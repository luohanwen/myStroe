function FastClick(a){var b,c=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=a,!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)},FastClick.notNeeded(a)||(this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null))}var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(d&&"string"!=typeof b?(a[e]||(a[e]={}),mixin(a[e],b,c,d)):a[e]=b)}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p=c&&c.split("/"),q=p,r=x.map,s=r&&r["*"];if(a&&"."===a.charAt(0)&&(c?(q=getOwn(x.pkgs,c)?p=[c]:p.slice(0,p.length-1),a=q.concat(a.split("/")),b(a),f=getOwn(x.pkgs,e=a[0]),a=a.join("/"),f&&a===e+"/"+f.main&&(a=e)):0===a.indexOf("./")&&(a=a.substring(2))),d&&r&&(p||s)){for(h=a.split("/"),i=h.length;i>0;i-=1){if(k=h.slice(0,i).join("/"),p)for(j=p.length;j>0;j-=1)if(g=getOwn(r,p.slice(0,j).join("/")),g&&(g=getOwn(g,k))){l=g,m=i;break}if(l)break;!n&&s&&getOwn(s,k)&&(n=getOwn(s,k),o=i)}!l&&n&&(l=n,m=o),l&&(h.splice(0,m,l),a=h.join("/"))}return a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(d(a),b.shift(),u.require.undef(a),u.require([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(E+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):c(a,l,e):(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(F+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(B,[B.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c,f,g=1e3*x.waitSeconds,h=g&&u.startTime+g<(new Date).getTime(),i=[],k=[],l=!1,o=!0;if(!s){if(s=!0,eachProp(z,function(c){if(a=c.map,b=a.id,c.enabled&&(a.isDefine||k.push(c),!c.error))if(!c.inited&&h)e(b)?(f=!0,l=!0):(i.push(b),d(b));else if(!c.inited&&c.fetched&&a.isDefine&&(l=!0,!a.prefix))return o=!1}),h&&i.length)return c=makeError("timeout","Load timeout for modules: "+i,null,i),c.contextName=u.contextName,j(c);o&&each(k,function(a){m(a,{},{})}),h&&!f||!l||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E=1,F=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){var b,c=getOwn(x.pkgs,a.map.id);return b=c?getOwn(x.config,a.map.id+"/"+c.main):getOwn(x.config,a.map.id),b||{}},exports:C[a.map.id]}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?(u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})),void 0):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(g){a=g}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&(b=this.module,b&&void 0!==b.exports&&b.exports!==this.exports?e=b.exports:void 0===e&&this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=this.map.name,n=this.map.parentMap?this.map.parentMap.name:null,o=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(m=d.normalize(m,function(a){return c(a,n,!0)})||""),f=g(a.prefix+"!"+m,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()),void 0):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),o([f],e)}),d.load(a.name,o,e,x),void 0)})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return this.depExports[b]=e(this),void 0;this.depCount+=1,i(a,"defined",bind(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",bind(this,this.errback))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.pkgs,c=x.shim,d={paths:!0,config:!0,map:!0};eachProp(a,function(a,b){d[b]?"map"===b?(x.map||(x.map={}),mixin(x[b],a,!0,!0)):mixin(x[b],a,!0):x[b]=a}),a.shim&&(eachProp(a.shim,function(a,b){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),c[b]=a}),x.shim=c),a.packages&&(each(a.packages,function(a){var c;a="string"==typeof a?{name:a}:a,c=a.location,b[a.name]={name:a.name,location:c||a.name,main:(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),x.pkgs=b),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,d){function e(c,f,i){var k,l,m;return d.enableBuildCallback&&f&&isFunction(f)&&(f.__requireJsBuild=!0),"string"==typeof c?isFunction(f)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,e):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=d.skipMap,m.init(c,f,i,{enabled:!0}),n()}),e)}return d=d||{},mixin(e,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(e.undef=function(a){k();var c=g(a,b,!0),d=getOwn(y,a);delete C[a],delete D[c.url],delete A[a],d&&(d.events.defined&&(A[a]=d.events),l(a))}),e},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k,l;if(req.jsExtRegExp.test(a))k=a+(b||"");else{for(d=x.paths,e=x.pkgs,h=a.split("/"),i=h.length;i>0;i-=1){if(j=h.slice(0,i).join("/"),f=getOwn(e,j),l=getOwn(d,j)){isArray(l)&&(l=l[0]),h.splice(0,i,l);break}if(f){g=a===f.name?f.location+"/"+f.main:f.location,h.splice(0,i,g);break}}k=h.join("/"),k+=b||(/\?/.test(k)||c?"":".js"),k=("/"===k.charAt(0)||k.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+k}return x.urlArgs?k+((-1===k.indexOf("?")?"?":"&")+x.urlArgs):k},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);return e(b.id)?void 0:j(makeError("scripterror","Script error for: "+b.id,a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===a&&(Array.prototype.reduce=function(b){if(void 0===this||null===this)throw new TypeError;var c,d=Object(this),e=d.length>>>0,f=0;if("function"!=typeof b)throw new TypeError;if(0==e&&1==arguments.length)throw new TypeError;if(arguments.length>=2)c=arguments[1];else for(;;){if(f in d){c=d[f++];break}if(++f>=e)throw new TypeError}for(;e>f;)f in d&&(c=b.call(a,c,d[f],f,d)),f++;return c})}();var Zepto=function(){function a(a){return null==a?String(a):W[X.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&a.__proto__==Object.prototype}function g(a){return a instanceof Array}function h(a){return"number"==typeof a.length}function i(a){return E.call(a,function(a){return null!=a})}function j(a){return a.length>0?y.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in H?H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||J[k(a)]?b:b+"px"}function n(a){var b,c;return G[a]||(b=F.createElement(a),F.body.appendChild(b),c=I(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),G[a]=c),G[a]}function o(a){return"children"in a?D.call(a.children):y.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b,c){for(x in b)c&&(f(b[x])||g(b[x]))?(f(b[x])&&!f(a[x])&&(a[x]={}),g(b[x])&&!g(a[x])&&(a[x]=[]),p(a[x],b[x],c)):b[x]!==w&&(a[x]=b[x])}function q(a,b){return b===w?y(a):y(a).filter(b)}function r(a,c,d,e){return b(c)?c.call(a,d,e):c}function s(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function t(a,b){var c=a.className,d=c&&c.baseVal!==w;return b===w?d?c.baseVal:c:(d?c.baseVal=b:a.className=b,void 0)}function u(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?y.parseJSON(a):a:b):a}catch(c){return a}}function v(a,b){b(a);for(var c in a.childNodes)v(a.childNodes[c],b)}var w,x,y,z,A,B,C=[],D=C.slice,E=C.filter,F=window.document,G={},H={},I=F.defaultView.getComputedStyle,J={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},K=/^\s*<(\w+|!)[^>]*>/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=F.createElement("table"),Q=F.createElement("tr"),R={tr:F.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":F.createElement("div")},S=/complete|loaded|interactive/,T=/^\.([\w-]+)$/,U=/^#([\w-]*)$/,V=/^[\w-]+$/,W={},X=W.toString,Y={},Z=F.createElement("div");return Y.matches=function(a,b){if(!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=Z).appendChild(a),d=~Y.qsa(e,b).indexOf(a),f&&Z.removeChild(a),d},A=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},B=function(a){return E.call(a,function(b,c){return a.indexOf(b)==c})},Y.fragment=function(a,b,c){a.replace&&(a=a.replace(L,"<$1></$2>")),b===w&&(b=K.test(a)&&RegExp.$1),b in R||(b="*");var d,e,g=R[b];return g.innerHTML=""+a,e=y.each(D.call(g.childNodes),function(){g.removeChild(this)}),f(c)&&(d=y(e),y.each(c,function(a,b){N.indexOf(a)>-1?d[a](b):d.attr(a,b)})),e},Y.Z=function(a,b){return a=a||[],a.__proto__=y.fn,a.selector=b||"",a},Y.isZ=function(a){return a instanceof Y.Z},Y.init=function(a,c){if(!a)return Y.Z();if(b(a))return y(F).ready(a);if(Y.isZ(a))return a;var d;if(g(a))d=i(a);else if(e(a))d=[f(a)?y.extend({},a):a],a=null;else if(K.test(a))d=Y.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=Y.qsa(F,a)}return Y.Z(d,a)},y=function(a,b){return Y.init(a,b)},y.extend=function(a){var b,c=D.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){p(a,c,b)}),a},Y.qsa=function(a,b){var c;return d(a)&&U.test(b)?(c=a.getElementById(RegExp.$1))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:D.call(T.test(b)?a.getElementsByClassName(RegExp.$1):V.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},y.contains=function(a,b){return a!==b&&a.contains(b)},y.type=a,y.isFunction=b,y.isWindow=c,y.isArray=g,y.isPlainObject=f,y.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},y.inArray=function(a,b,c){return C.indexOf.call(b,a,c)},y.camelCase=A,y.trim=function(a){return a.trim()},y.uuid=0,y.support={},y.expr={},y.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return j(f)},y.each=function(a,b){var c,d;if(h(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},y.grep=function(a,b){return E.call(a,b)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){W["[object "+b+"]"]=b.toLowerCase()}),y.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(D.apply(this,arguments))},ready:function(a){return S.test(F.readyState)?a(y):F.addEventListener("DOMContentLoaded",function(){a(y)},!1),this},get:function(a){return a===w?D.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return C.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):y(E.call(this,function(b){return Y.matches(b,a)}))},add:function(a,b){return y(B(this.concat(y(a,b))))},is:function(a){return this.length>0&&Y.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==w)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&b(a.item)?D.call(a):y(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return e(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:y(a)},find:function(a){var b,c=this;return b="object"==typeof a?y(a).filter(function(){var a=this;return C.some.call(c,function(b){return y.contains(b,a)})}):1==this.length?y(Y.qsa(this[0],a)):this.map(function(){return Y.qsa(this,a)})},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=y(a));c&&!(e?e.indexOf(c)>=0:Y.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=y.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return q(b,a)},parent:function(a){return q(B(this.pluck("parentNode")),a)},children:function(a){return q(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return D.call(this.childNodes)})},siblings:function(a){return q(this.map(function(a,b){return E.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==I(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=y(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){y(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){y(this[0]).before(a=y(a));for(var b;(b=a.children()).length;)a=b.first();y(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=y(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===w?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return a===w?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;y(this).empty().append(r(this,a,b,c))})},text:function(a){return a===w?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,b){var c;return"string"==typeof a&&b===w?0==this.length||1!==this[0].nodeType?w:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(e(a))for(x in a)s(this,x,a[x]);else s(this,a,r(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&s(this,a)})},prop:function(a,b){return b===w?this[0]&&this[0][a]:this.each(function(c){this[a]=r(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+k(a),b);return null!==c?u(c):w},val:function(a){return a===w?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=r(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=y(this),d=r(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2&&"string"==typeof b)return this[0]&&(this[0].style[A(b)]||I(this[0],"").getPropertyValue(b));var d="";if("string"==a(b))c||0===c?d=k(b)+":"+m(b,c):this.each(function(){this.style.removeProperty(k(b))});else for(x in b)b[x]||0===b[x]?d+=k(x)+":"+m(x,b[x])+";":this.each(function(){this.style.removeProperty(k(x))});return this.each(function(){this.style.cssText+=";"+d})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return C.some.call(this,function(a){return this.test(t(a))},l(a))},addClass:function(a){return this.each(function(b){z=[];var c=t(this),d=r(this,a,b,c);d.split(/\s+/g).forEach(function(a){y(this).hasClass(a)||z.push(a)},this),z.length&&t(this,c+(c?" ":"")+z.join(" "))})},removeClass:function(a){return this.each(function(b){return a===w?t(this,""):(z=t(this),r(this,a,b,z).split(/\s+/g).forEach(function(a){z=z.replace(l(a)," ")}),t(this,z.trim()),void 0)})},toggleClass:function(a,b){return this.each(function(c){var d=y(this),e=r(this,a,c,t(this));e.split(/\s+/g).forEach(function(a){(b===w?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=M.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(y(a).css("margin-top"))||0,c.left-=parseFloat(y(a).css("margin-left"))||0,d.top+=parseFloat(y(b[0]).css("border-top-width"))||0,d.left+=parseFloat(y(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!M.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(a){y.fn[a]=function(b){var e,f=this[0],g=a.replace(/./,function(a){return a[0].toUpperCase()});return b===w?c(f)?f["inner"+g]:d(f)?f.documentElement["offset"+g]:(e=this.offset())&&e[a]:this.each(function(c){f=y(this),f.css(a,r(this,b,c,f[a]()))})}}),O.forEach(function(b,c){var d=c%2;y.fn[b]=function(){var b,e,f=y.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:Y.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null,f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return y(a).remove();v(e.insertBefore(a,b),function(a){null!=a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type)&&!a.src&&window.eval.call(window,a.innerHTML)})})})},y.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return y(a)[b](this),this}}),Y.Z.prototype=y.fn,Y.uniq=B,Y.deserializeValue=u,y.zepto=Y,y}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android)\s+([\d.]+)/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),h=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),i=h&&a.match(/TouchPad/),j=a.match(/Kindle\/([\d.]+)/),k=a.match(/Silk\/([\d._]+)/),l=a.match(/(BlackBerry).*Version\/([\d.]+)/),m=a.match(/(BB10).*Version\/([\d.]+)/),n=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),o=a.match(/PlayBook/),p=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),q=a.match(/Firefox\/([\d.]+)/);
(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),g&&(b.ios=b.iphone=!0,b.version=g[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),h&&(b.webos=!0,b.version=h[2]),i&&(b.touchpad=!0),l&&(b.blackberry=!0,b.version=l[2]),m&&(b.bb10=!0,b.version=m[2]),n&&(b.rimtabletos=!0,b.version=n[2]),o&&(c.playbook=!0),j&&(b.kindle=!0,b.version=j[1]),k&&(c.silk=!0,c.version=k[1]),!k&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),p&&(c.chrome=!0,c.version=p[1]),q&&(c.firefox=!0,c.version=q[1]),b.tablet=!!(f||o||e&&!a.match(/Mobile/)||q&&a.match(/Tablet/)),b.phone=!b.tablet&&!!(e||g||h||l||m||p&&a.match(/Android/)||p&&a.match(/CriOS\/([\d.]+)/)||q&&a.match(/Mobile/))}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a){function b(a){return a._zid||(a._zid=n++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(m[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(b,c,d){"string"!=a.type(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function g(a,b){return a.del&&("focus"==a.e||"blur"==a.e)||!!b}function h(a){return p[a]||a}function i(c,e,i,j,k,l){var n=b(c),o=m[n]||(m[n]=[]);f(e,i,function(b,e){var f=d(b);f.fn=e,f.sel=j,f.e in p&&(e=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?f.fn.apply(this,arguments):void 0}),f.del=k&&k(e,b);var i=f.del||e;f.proxy=function(a){var b=i.apply(c,[a].concat(a.data));return b===!1&&(a.preventDefault(),a.stopPropagation()),b},f.i=o.length,o.push(f),c.addEventListener(h(f.e),f.proxy,g(f,l))})}function j(a,d,e,i,j){var k=b(a);f(d||"",e,function(b,d){c(a,b,d,i).forEach(function(b){delete m[k][b.i],a.removeEventListener(h(b.e),b.proxy,g(b,j))})})}function k(b){var c,d={originalEvent:b};for(c in b)!s.test(c)&&void 0!==b[c]&&(d[c]=b[c]);return a.each(t,function(a,c){d[a]=function(){return this[c]=q,b[a].apply(b,arguments)},d[c]=r}),d}function l(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}}}var m=(a.zepto.qsa,{}),n=1,o={},p={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",a.event={add:i,remove:j},a.proxy=function(c,d){if(a.isFunction(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if("string"==typeof d)return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b){return this.each(function(){i(this,a,b)})},a.fn.unbind=function(a,b){return this.each(function(){j(this,a,b)})},a.fn.one=function(a,b){return this.each(function(c,d){i(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return j(d,b,a),c}})})};var q=function(){return!0},r=function(){return!1},s=/^([A-Z]|layer[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,c,d){return this.each(function(e,f){i(f,c,d,b,function(c){return function(d){var e,g=a(d.target).closest(b,f).get(0);return g?(e=a.extend(k(d),{currentTarget:g,liveFired:f}),c.apply(g,[e].concat([].slice.call(arguments,1)))):void 0}})})},a.fn.undelegate=function(a,b,c){return this.each(function(){j(this,b,c,a)})},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d){return!c||a.isFunction(c)?this.bind(b,c||d):this.delegate(c,b,d)},a.fn.off=function(b,c,d){return!c||a.isFunction(c)?this.unbind(b,c||d):this.undelegate(c,b,d)},a.fn.trigger=function(b,c){return("string"==typeof b||a.isPlainObject(b))&&(b=a.Event(b)),l(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k("string"==typeof b?a.Event(b):b),e.data=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){"string"!=typeof a&&(b=a,a=b.type);var c=document.createEvent(o[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c.isDefaultPrevented=function(){return this.defaultPrevented},c}}(Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.defaultPrevented}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:(c(b,d,"ajaxSend",[a,b]),void 0)}function g(a,b,d){var e=d.context,f="success";d.success.call(e,a,f,b),c(d,e,"ajaxSuccess",[b,d,a]),i(f,b,d)}function h(a,b,d,e){var f=e.context;e.error.call(f,d,b,a),c(e,f,"ajaxError",[d,e,a]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),b.data&&(!b.type||"GET"==b.type.toUpperCase())&&(b.url=l(b.url,b.data))}function n(b,c,d,e){var f=!a.isFunction(c);return{url:b,data:f?c:void 0,success:f?a.isFunction(d)?d:void 0:c,dataType:f?e||d:d}}function o(b,c,d,e){var f,g=a.isArray(c);a.each(c,function(c,h){f=a.type(h),e&&(c=d?e:e+"["+(g?"":c)+"]"),!e&&g?b.add(h.name,h.value):"array"==f||!d&&"object"==f?o(b,h,d,c):b.add(c,h)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/;a.active=0,a.ajaxJSONP=function(b){if("type"in b){var c,d="jsonp"+ ++r,e=s.createElement("script"),i=function(){clearTimeout(c),a(e).remove(),delete window[d]},k=function(a){i(),a&&"timeout"!=a||(window[d]=j),h(null,a||"abort",l,b)},l={abort:k};return f(l,b)===!1?(k("abort"),!1):(window[d]=function(a){i(),g(a,l,b)},e.onerror=function(){k("error")},e.src=b.url.replace(/=\?/,"="+d),a("head").append(e),b.timeout>0&&(c=setTimeout(function(){k("timeout")},b.timeout)),l)}return a.ajax(b)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c=a.extend({},b||{});for(p in a.ajaxSettings)void 0===c[p]&&(c[p]=a.ajaxSettings[p]);d(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),m(c),c.cache===!1&&(c.url=l(c.url,"_="+Date.now()));var e=c.dataType,i=/=\?/.test(c.url);if("jsonp"==e||i)return i||(c.url=l(c.url,"callback=?")),a.ajaxJSONP(c);var n,o=c.accepts[e],r={},s=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,t=c.xhr();c.crossDomain||(r["X-Requested-With"]="XMLHttpRequest"),o&&(r.Accept=o,o.indexOf(",")>-1&&(o=o.split(",",2)[0]),t.overrideMimeType&&t.overrideMimeType(o)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&(r["Content-Type"]=c.contentType||"application/x-www-form-urlencoded"),c.headers=a.extend(r,c.headers||{}),t.onreadystatechange=function(){if(4==t.readyState){t.onreadystatechange=j,clearTimeout(n);var b,d=!1;if(t.status>=200&&t.status<300||304==t.status||0==t.status&&"file:"==s){e=e||k(t.getResponseHeader("content-type")),b=t.responseText;try{"script"==e?(1,eval)(b):"xml"==e?b=t.responseXML:"json"==e&&(b=y.test(b)?null:a.parseJSON(b))}catch(f){d=f}d?h(d,"parsererror",t,c):g(b,t,c)}else h(null,t.status?"error":"abort",t,c)}};var u="async"in c?c.async:!0;t.open(c.type,c.url,u);for(q in c.headers)t.setRequestHeader(q,c.headers[q]);return f(t,c)===!1?(t.abort(),!1):(c.timeout>0&&(n=setTimeout(function(){t.onreadystatechange=j,t.abort(),h(null,"timeout",t,c)},c.timeout)),t.send(c.data?c.data:null),t)},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var z=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(z(a)+"="+z(b))},o(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c=[];return a(Array.prototype.slice.call(this.get(0).elements)).each(function(){b=a(this);var d=b.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=d&&"reset"!=d&&"button"!=d&&("radio"!=d&&"checkbox"!=d||this.checked)&&c.push({name:b.attr("name"),value:b.val()})}),c},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(a,b){function c(a){return d(a.replace(/([a-z])([A-Z])/,"$1-$2"))}function d(a){return a.toLowerCase()}function e(a){return f?f+a:d(a)}var f,g,h,i,j,k,l,m,n="",o={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},p=window.document,q=p.createElement("div"),r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,s={};a.each(o,function(a,c){return q.style[a+"TransitionProperty"]!==b?(n="-"+d(a)+"-",f=c,!1):void 0}),g=n+"transform",s[h=n+"transition-property"]=s[i=n+"transition-duration"]=s[j=n+"transition-timing-function"]=s[k=n+"animation-name"]=s[l=n+"animation-duration"]=s[m=n+"animation-timing-function"]="",a.fx={off:f===b&&q.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:e("TransitionEnd"),animationEnd:e("AnimationEnd")},a.fn.animate=function(b,c,d,e){return a.isPlainObject(c)&&(d=c.easing,e=c.complete,c=c.duration),c&&(c=("number"==typeof c?c:a.fx.speeds[c]||a.fx.speeds._default)/1e3),this.anim(b,c,d,e)},a.fn.anim=function(d,e,f,n){var o,p,q,t={},u="",v=this,w=a.fx.transitionEnd;if(e===b&&(e=.4),a.fx.off&&(e=0),"string"==typeof d)t[k]=d,t[l]=e+"s",t[m]=f||"linear",w=a.fx.animationEnd;else{p=[];for(o in d)r.test(o)?u+=o+"("+d[o]+") ":(t[o]=d[o],p.push(c(o)));u&&(t[g]=u,p.push(g)),e>0&&"object"==typeof d&&(t[h]=p.join(", "),t[i]=e+"s",t[j]=f||"linear")}return q=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(w,q)}a(this).css(s),n&&n.call(this)},e>0&&this.bind(w,q),this.size()&&this.get(0).clientLeft,this.css(t),0>=e&&setTimeout(function(){v.each(function(){q.call(this)})},0),this},q=null}(Zepto),define("zepto",function(a){return function(){var b;return b||a.$}}(this)),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?(this._wrapped=a,void 0):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.1";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(null==b?x.identity:b);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(this instanceof d){E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;!h&&c.leading===!1&&(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):!g&&c.trailing!==!1&&(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!!a&&1===a.nodeType},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!!a&&!!x.has(a,"callee")}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),("shift"==a||"splice"==a)&&0===c.length&&delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(a){return function(){var b;return b||a._}}(this)),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.0.0";var h=b._;!h&&"undefined"!=typeof require&&(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=a.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=f.length;m>l;l++)e=f[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&l(c,b),d&&l(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),i.bind=i.on,i.unbind=i.off,h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={}),this.cid=h.uniqueId("c"),this.attributes={},h.extend(this,h.pick(b,o)),b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)},o=["url","urlRoot","collection"];h.extend(n.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),b.trigger("sync",b,d,a),void 0):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!(!d||c&&c.wait||this.set(d,c)))return!1;if(c=h.extend({validate:!0},c),!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=g;var b=i.parse(a,c);return c.wait&&(b=h.extend(d||{},b)),h.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),i.trigger("sync",i,a,c),void 0)},L(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;L(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||K();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;
return c?(this.trigger("invalid",this,c,h.extend(b||{},{validationError:c})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.attributes),h[a].apply(h,b)}});var q=a.Collection=function(a,b){b||(b={}),b.url&&(this.url=b.url),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))},r={add:!0,remove:!0,merge:!0},s={add:!0,merge:!1,remove:!1};h.extend(q.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.defaults(b||{},s))},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},set:function(a,b){b=h.defaults(b||{},r),b.parse&&(a=this.parse(a,b)),h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=h.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,d=a.length;d>c;c++)(f=this._prepareModel(a[c],b))&&((i=this.get(f))?(b.remove&&(p[i.cid]=!0),b.merge&&(i.set(f.attributes,b),l&&!j&&i.hasChanged(m)&&(j=!0))):b.add&&(n.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)));if(b.remove){for(c=0,d=this.length;d>c;++c)p[(f=this.models[c]).cid]||o.push(f);o.length&&this.remove(o,b)}if(n.length&&(l&&(j=!0),this.length+=n.length,null!=k?g.apply(this.models,[k,0].concat(n)):e.apply(this.models,n)),j&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=n.length;d>c;c++)(f=n[c]).trigger("add",f,this,b);return j&&this.trigger("sort",this,b),this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(e){b.wait&&c.add(a,b),d&&d(a,e,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(t,function(a){q.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var u=["groupBy","countBy","sortBy"];h.each(u,function(a){q.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var v=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(v.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),c){var d=b.match(w),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,x)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}}),a.sync=function(b,c,d){var e=y[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=h.result(c,"url")||K()),null==d.data&&c&&("create"===b||"update"===b||"patch"===b)&&(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"!==f.type&&!d.emulateJSON&&(f.processData=!1),"PATCH"===f.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled)&&(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,i,d),i};var y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var z=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,i,{initialize:function(){},route:function(b,c,d){h.isRegExp(b)||(b=this._routeToRegExp(b)),h.isFunction(c)&&(d=c,c=""),d||(d=this[c]);var e=this;return a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),a.history.trigger("route",e,c,g)}),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(C,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return h.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,H=/msie [\w.]+/,I=/\/$/;E.started=!1,h.extend(E.prototype,i,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(I,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(F,"")},start:function(b){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=h.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=H.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(G,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},navigate:function(a,b){if(!E.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new E;var J=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};n.extend=q.extend=z.extend=v.extend=E.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}.call(this),define("backbone",["underscore"],function(a){return function(){var b;return b||a.Backbone}}(this)),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.focus=function(a){var b;this.deviceIsIOS&&a.setSelectionRange?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],this.deviceIsIOS){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},FastClick.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){var b,c,d,e,f,g=this.targetElement;if(this.touchHasMoved(a)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),d=g.tagName.toLowerCase(),"label"===d){if(b=this.findControl(g)){if(this.focus(g),this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g))return a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,!1):(this.focus(g),this.deviceIsIOS4&&"select"===d||(this.targetElement=null,a.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(e=g.fastClickScrollParent,e&&e.fastClickLastScrollTop!==e.scrollTop)?!0:(this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){var b;if("undefined"==typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!FastClick.prototype.deviceIsAndroid)return!0;if(b=document.querySelector("meta[name=viewport]"),b&&-1!==b.content.indexOf("user-scalable=no"))return!0}return"none"===a.style.msTouchAction?!0:!1},FastClick.attach=function(a){return new FastClick(a)},"undefined"!=typeof define&&define.amd?define("fastclick",[],function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("text",["module"],function(a){var b,c,d,e,f,g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,j="undefined"!=typeof location&&location.href,k=j&&location.protocol&&location.protocol.replace(/\:/,""),l=j&&location.hostname,m=j&&(location.port||void 0),n={},o=a.config&&a.config()||{};return b={version:"2.0.10",strip:function(a){if(a){a=a.replace(h,"");var b=a.match(i);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=g[b];try{a=new ActiveXObject(c)}catch(d){}if(a){g=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,o.isBuild&&(n[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return d(),void 0;o.isBuild=e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),i=o.useXhr||b.useXhr;return 0===h.indexOf("empty:")?(d(),void 0):(!j||i(h,k,l,m)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)}),void 0)},write:function(a,c,d){if(n.hasOwnProperty(c)){var e=b.jsEscape(n[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,c,f)},f)}},"node"===o.env||!o.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(c=require.nodeRequire("fs"),b.get=function(a,b,d){try{var e=c.readFileSync(a,"utf8");0===e.indexOf("")&&(e=e.substring(1)),b(e)}catch(f){d(f)}}):"xhr"===o.env||!o.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);o.onXhr&&o.onXhr(g,a),g.onreadystatechange=function(){var b,e;4===g.readyState&&(b=g.status,b>399&&600>b?(e=new Error(a+" HTTP status: "+b),e.xhr=g,d(e)):c(g.responseText),o.onXhrComplete&&o.onXhrComplete(g,a))},g.send(null)}:"rhino"===o.env||!o.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===o.env||!o.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),f="@mozilla.org/windows-registry-key;1"in d,b.get=function(a,b){var c,g,h,i={};f&&(a=a.replace(/\//g,"\\")),h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),g=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),g.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),g.readString(c.available(),i),g.close(),c.close(),b(i.value)}catch(j){throw new Error((h&&h.path||"")+": "+j)}}),b}),function(){function a(a,b,c,d,e,f){b[a]&&(c.push(a),(b[a]===!0||1===b[a])&&d.push(e+a+"/"+f))}function b(a,b,c,d,e){var f=d+b+"/"+e;require._fileExists(a.toUrl(f+".js"))&&c.push(f)}function c(a,b,d){var e;for(e in b)!b.hasOwnProperty(e)||a.hasOwnProperty(e)&&!d?"object"==typeof b[e]&&(a[e]||(a[e]={}),c(a[e],b[e],d)):a[e]=b[e]}var d=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(e){var f=e.config?e.config():{};return{version:"2.0.3",load:function(e,g,h,i){i=i||{},i.locale&&(f.locale=i.locale);var j,k,l,m=d.exec(e),n=m[1],o=m[4],p=m[5],q=o.split("-"),r=[],s={},t="";if(m[5]?(n=m[1],j=n+p):(j=e,p=m[4],o=f.locale,o||(o=f.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),q=o.split("-")),i.isBuild){for(r.push(j),b(g,"root",r,n,p),k=0;k<q.length;k++)l=q[k],t+=(t?"-":"")+l,b(g,t,r,n,p);g(r,function(){h()})}else g([j],function(b){var d,e=[];for(a("root",b,e,r,n,p),k=0;k<q.length;k++)d=q[k],t+=(t?"-":"")+d,a(t,b,e,r,n,p);g(r,function(){var a,d,f;for(a=e.length-1;a>-1&&e[a];a--)f=e[a],d=b[f],(d===!0||1===d)&&(d=g(n+f+"/"+p)),c(s,d);h(s)})})}}})}(),define("core/mainview",["backbone","underscore"],function(a,b){return a.View.extend({el:"body",currentView:null,stack:[],animated:!1,changePage:function(a,b){$("body").html(""),b&&!a.module&&(a.module=b),a.container=this;var c=a.render().el;this.currentView&&this.currentView.remove(),document.body.appendChild(c),this.currentView=a,"onShow"in a&&a.onShow()},slideIn:function(a){var c=a.render().el,d=b.last(this.stack);if(this.animated&&($(c).css("position","absolute"),$(c).css("width","100%"),c.classList.add("right"),c.classList.add("slide"),d.el.classList.add("slide")),document.body.insertBefore(c,d.el),this.animated){var e=function(){d.el.classList.add("slide"),c.classList.remove("slide"),$(c).css("position","static"),$(d.el).hide(),c.removeEventListener("webkitTransitionEnd",e,!1)};c.addEventListener("webkitTransitionEnd",e,!1),d.el.offsetWidth,d.el.classList.add("left"),c.classList.remove("right")}else $(d.el).hide()},slideOut:function(){var a=b.last(this.stack).el,c=this.stack[this.stack.length-2];if($(c.el).show(),this.animated){c.el.offsetWidth,a.classList.add("slide"),$(c.el).css("position","fixed"),$(c.el).css("top","0px"),$(c.el).css("width","100%");var d=function(){$(c.el).css("position","static"),c.el.classList.remove("slide"),$(a).remove(),c.el.offsetWidth,a.removeEventListener("webkitTransitionEnd",d,!1)};c.el.addEventListener("webkitTransitionEnd",d,!1),c.el.offsetWidth,a.classList.add("right"),c.el.classList.remove("left")}else $(a).remove()},push:function(a){this.slideIn(a),this.stack.push(a),"onShow"in a&&a.onShow()},pop:function(){this.slideOut(),this.stack.pop(b.last(this.stack))},navigateForResult:function(b,c,d,e){this.backFragment=d,this.callback=e,a.history.navigate(b,c)},navigateBack:function(){var b=this;a.history.once("route",function(){b.callback.call(b.currentPage,b.navigateBackParams)}),this.navigateBackParams=arguments,a.history.navigate(this.backFragment,{trigger:!0})}})}),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){j=null,k.last&&(k.el.trigger("longTap"),k={})}function e(){j&&clearTimeout(j),j=null}function f(){g&&clearTimeout(g),h&&clearTimeout(h),i&&clearTimeout(i),j&&clearTimeout(j),g=h=i=j=null,k={}}var g,h,i,j,k={},l=750;a(document).ready(function(){var m,n;a(document.body).bind("touchstart",function(c){m=Date.now(),n=m-(k.last||m),k.el=a(b(c.touches[0].target)),g&&clearTimeout(g),k.x1=c.touches[0].pageX,k.y1=c.touches[0].pageY,n>0&&250>=n&&(k.isDoubleTap=!0),k.last=m,j=setTimeout(d,l)}).bind("touchmove",function(a){e(),k.x2=a.touches[0].pageX,k.y2=a.touches[0].pageY,Math.abs(k.x1-k.x2)>10&&a.preventDefault()}).bind("touchend",function(){e(),k.x2&&Math.abs(k.x1-k.x2)>30||k.y2&&Math.abs(k.y1-k.y2)>30?i=setTimeout(function(){k.el.trigger("swipe"),k.el.trigger("swipe"+c(k.x1,k.x2,k.y1,k.y2)),k={}},0):"last"in k&&(h=setTimeout(function(){var b=a.Event("tap");b.cancelTouch=f,k.el.trigger(b),k.isDoubleTap?(k.el.trigger("doubleTap"),k={}):g=setTimeout(function(){g=null,k.el.trigger("singleTap"),k={}},250)},0))}).bind("touchcancel",f),a(window).bind("scroll",f)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(Zepto),function(a){a.extend(a,{contains:function(a,b){return a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):a!==b&&a.contains(b)}})}(Zepto),function(a,b){a.extend(a,{toString:function(a){return Object.prototype.toString.call(a)},slice:function(a,b){return Array.prototype.slice.call(a,b||0)},later:function(a,b,c,d,e){return window["set"+(c?"Interval":"Timeout")](function(){a.apply(d,e)},b||0)},parseTpl:function(a,b){var c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",d=new Function("obj",c);return b?d(b):d},throttle:function(c,d,e){function f(){function a(){h=Date.now(),d.apply(i,k)}function f(){g=b}var i=this,j=Date.now()-h,k=arguments;e&&!g&&a(),g&&clearTimeout(g),e===b&&j>c?a():g=setTimeout(e?f:a,e===b?c-j:c)}var g,h=0;return"function"!=typeof d&&(e=d,d=c,c=250),f._zid=d._zid=d._zid||a.proxy(d)._zid,f},debounce:function(c,d,e){return d===b?a.throttle(250,c,!1):a.throttle(c,d,e===b?!1:e!==!1)}}),a.each("String Boolean RegExp Number Date Object Null Undefined".split(" "),function(d,e){var f;if(!("is"+e in a)){switch(e){case"Null":f=function(a){return null===a};break;case"Undefined":f=function(a){return a===b};break;default:f=function(a){return new RegExp(e+"]","i").test(c(a))}}a["is"+e]=f}});var c=a.toString}(Zepto),function(a){var b=navigator.userAgent,c=navigator.appVersion,d=a.browser;a.extend(d,{qq:/qq/i.test(b),uc:/UC/i.test(b)||/UC/i.test(c)}),d.uc=d.uc||!d.qq&&!d.chrome&&!d.firefox&&!/safari/i.test(b);try{d.version=d.uc?c.match(/UC(?:Browser)?\/([\d.]+)/)[1]:d.qq?b.match(/MQQBrowser\/([\d.]+)/)[1]:d.version}catch(e){}a.support=a.extend(a.support||{},{orientation:!(d.uc||parseFloat(a.os.version)<5&&(d.qq||d.chrome))&&!(a.os.android&&parseFloat(a.os.version)>3)&&"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix})}(Zepto),function(a){function b(){a(window).on("scroll",a.debounce(80,function(){a(document).trigger("scrollStop")},!1))}function c(){a(window).off("scroll"),b()}a.matchMedia=function(){var b=0,c="gmu-media-detect",d=a.fx.transitionEnd,e=a.fx.cssPrefix,f=a("<style></style>").append("."+c+"{"+e+"transition: width 0.001ms; width: 0; position: absolute; top: -10000px;}\n").appendTo("head");return function(e){var g,h=c+b++,i=a('<div class="'+c+'" id="'+h+'"></div>').appendTo("body"),j=[];return f.append("@media "+e+" { #"+h+" { width: 1px; } }\n"),"matchMedia"in window?window.matchMedia(e):(i.on(d,function(){g.matches=1===i.width(),a.each(j,function(b,c){a.isFunction(c)&&c.call(g,g)})}),g={matches:1===i.width(),media:e,addListener:function(a){return j.push(a),this},removeListener:function(a){var b=j.indexOf(a);return~b&&j.splice(b,1),this}})}}(),a(function(){var b=function(){a(window).trigger("ortchange")};a.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},a.matchMedia(a.mediaQuery.ortchange).addListener(b)}),b(),a(window).on("pageshow",function(b){b.persisted&&a(document).off("touchstart",c).one("touchstart",c)})}(Zepto),function(a){var b,c,d,e=!1,f=function(){clearTimeout(c),b&&(d=b.attr("highlight-cls"))&&(b.removeClass(d).attr("highlight-cls",""),b=null)};a.extend(a.fn,{highlight:function(d){return e=e||!!a(document).on("touchend.highlight touchmove.highlight touchcancel.highlight",f),f(),this.each(function(){var e=a(this);e.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.highlight"),d&&e.on("touchstart.highlight",function(){c=a.later(function(){b=e.attr("highlight-cls",d).addClass(d)},100)})})}})}(Zepto),function(a,b){function c(){return h++}function d(b,c){var d={};return Object.create?d=Object.create(b):d.__proto__=b,a.extend(d,c||{})}function e(b,c){return c&&(f(b,c),a.extend(b.prototype,c)),a.extend(b,{plugins:[],register:function(b){return a.isObject(b)?(a.extend(this.prototype,b),void 0):(this.plugins.push(b),void 0)}})}function f(b,c){var e,f=c.inherit||l,g=f.prototype;return e=b.prototype=d(g,{$factory:b,$super:function(b){var c=g[b];return a.isFunction(c)?c.apply(this,a.slice(arguments,1)):c}}),e._data=a.extend({},g._data,c._data),delete c._data,b}function g(c){a.fn[c]=function(d){var e,f,g=a.slice(arguments,1);return a.each(this,function(h,i){if(f=k(i,c)||a.ui[c](i,a.extend(a.isPlainObject(d)?d:{},{setup:!0})),a.isString(d)){if(!a.isFunction(f[d])&&"this"!==d)throw new Error(c+"");e=a.isFunction(f[d])?f[d].apply(f,g):b}return e!==b&&e!==f||"this"===d&&(e=f)?!1:(e=b,void 0)}),e!==b?e:this}}var h=1,i=function(){},j="<%=name%>-<%=id%>",k=function(){var b={},c=0,d="GMUWidget"+ +new Date;
return function(e,f,g){var h=e[d]||(e[d]=++c),i=b[h]||(b[h]={});return!a.isUndefined(g)&&(i[f]=g),a.isNull(g)&&delete i[f],i[f]}}();a.ui=a.ui||{version:"2.0.5",guid:c,define:function(b,f,h){h&&(f.inherit=h);var i=a.ui[b]=e(function(e,f){var g=d(i.prototype,{_id:a.parseTpl(j,{name:b,id:c()})});return g._createWidget.call(g,e,f,i.plugins),g},f);return g(b,i)},isWidget:function(c,d){return c instanceof(d===b?l:a.ui[d]||i)}};var l=function(){};a.extend(l.prototype,{_data:{status:!0},data:function(b,c){var d=this._data;return a.isObject(b)?a.extend(d,b):a.isUndefined(c)?d[b]:d[b]=c},_createWidget:function(c,d,e){a.isObject(c)&&(d=c||{},c=b);var f=a.extend({},this._data,d);a.extend(this,{_el:c?a(c):b,_data:f});var g=this;a.each(e,function(b,c){var d=c.apply(g);if(d&&a.isPlainObject(d)){var e=g._data.disablePlugin;(!e||a.isString(e)&&!~e.indexOf(d.pluginName))&&(delete d.pluginName,a.each(d,function(b,c){var d;g[b]=(d=g[b])&&a.isFunction(c)?function(){return g[b+"Org"]=d,c.apply(g,arguments)}:c}))}}),f.setup?this._setup(c&&c.getAttribute("data-mode")):this._create(),this._init();var g=this,h=this.trigger("init").root();h.on("tap",function(a){(a.bubblesList||(a.bubblesList=[])).push(g)}),k(h[0],g._id.split("-")[0],g)},_create:function(){},_setup:function(){},root:function(a){return this._el=a||this._el},id:function(a){return this._id=a||this._id},destroy:function(){var b,c=this;b=this.trigger("destroy").off().root(),b.find("*").off(),k(b[0],c._id.split("-")[0],null),b.off().remove(),this.__proto__=null,a.each(this,function(a){delete c[a]})},on:function(b,c){return this.root().on(b,a.proxy(c,this)),this},off:function(a,b){return this.root().off(a,b),this},trigger:function(b,c){b=a.isString(b)?a.Event(b):b;var d,e=this.data(b.type);return e&&a.isFunction(e)&&(b.data=c,d=e.apply(this,[b].concat(c)),d===!1||b.defaultPrevented)?this:(this.root().trigger(b,c),this)}})}(Zepto),function(a){a.ui.define("slider",{_data:{viewNum:1,imgInit:2,itemRender:null,imgZoom:!1,loop:!1,stopPropagation:!1,springBackDis:15,autoPlay:!0,autoPlayTime:4e3,animationTime:400,showArr:!0,showDot:!0,slide:null,slideend:null,index:0,_stepLength:1,_direction:1},_create:function(){var b,c=this,d=0,e=[],f=c.data("content");c._initConfig(),(c.root()||c.root(a("<div></div>"))).addClass("ui-slider").appendTo(c.data("container")||(c.root().parent().length?"":document.body)).html('<div class="ui-slider-wheel"><div class="ui-slider-group">'+function(){if(c.data("itemRender"))for(var a=c.data("itemRender");b=a.call(c,d++);)e.push('<div class="ui-slider-item">'+b+"</div>");else for(;b=f[d++];)e.push('<div class="ui-slider-item"><a href="'+b.href+'"><img lazyload="'+b.pic+'"/></a>'+(b.title?"<p>"+b.title+"</p>":"")+"</div>");return e.push(c.data("loop")?'</div><div class="ui-slider-group">'+e.join("")+"</div></div>":"</div></div>"),e.join("")}()),c._addDots()},_setup:function(b){var c=this,d=c.root().addClass("ui-slider");if(c._initConfig(),b)c.data("loop")&&a(".ui-slider-wheel",d).append(a(".ui-slider-group",d).clone());else{var e=d.children(),f=a('<div class="ui-slider-group"></div>').append(e.addClass("ui-slider-item"));d.empty().append(a('<div class="ui-slider-wheel"></div>').append(f).append(c.data("loop")?f.clone():"")),c._addDots()}},_init:function(){var b=this,c=(b.data("index"),b.root()),d=a.proxy(b._eventHandler,b);b._setWidth(),a(b.data("wheel")).on("touchstart touchmove touchend touchcancel webkitTransitionEnd",d),a(window).on("ortchange",d),a(".ui-slider-pre",c).on("tap",function(){b.pre()}),a(".ui-slider-next",c).on("tap",function(){b.next()}),b.on("destroy",function(){clearTimeout(b.data("play")),a(window).off("ortchange",d)}),b.data("autoPlay")&&b._setTimeout()},_initConfig:function(){var a=this._data;a.viewNum>1&&(a.loop=!1,a.showDot=!1,a.imgInit=a.viewNum+1)},_addDots:function(){var b=this,c=b.root(),d=a(".ui-slider-item",c).length/(b.data("loop")?2:1),e=[];if(b.data("showDot")){for(e.push('<p class="ui-slider-dots">');d--;)e.push("<b></b>");e.push("</p>")}b.data("showArr")&&e.push('<span class="ui-slider-pre"><b></b></span><span class="ui-slider-next"><b></b></span>'),c.append(e.join(""))},_setWidth:function(){var b,c,d=this,e=d._data,f=d.root(),g=Math.ceil(f.width()/e.viewNum),h=f.height(),i=e.loop,j=a(".ui-slider-item",f).toArray(),k=j.length,l=a(".ui-slider-wheel",f).width(g*k)[0],m=a(".ui-slider-dots b",f).toArray(),n=a("img",f).toArray(),o=n.concat(),p={},q=e.imgInit||k;for(e.showDot&&(m[0].className="ui-slider-dot-select"),e.imgZoom&&a(o).on("load",function(){var a=this.height,b=this.width,c=Math.min(a,h),d=Math.min(b,g);this.style.cssText+=a/h>b/g?"height:"+c+"px;width:"+c/a*b+"px;":"height:"+d/b*a+"px;width:"+d+"px",this.onload=null}),b=0;k>b;b++)j[b].style.cssText+="width:"+g+"px;position:absolute;-webkit-transform:translate3d("+b*g+"px,0,0);z-index:"+(900-b),p[b]=i?b>k/2-1?b-k/2:b:b,q>b&&(c=o.shift(),c&&(c.src=c.getAttribute("lazyload")),e.loop&&(c=n[b+k/2],c&&(c.src=c.getAttribute("lazyload"))));return d.data({root:f[0],wheel:l,items:j,lazyImgs:o,allImgs:n,length:k,width:g,height:h,dots:m,dotIndex:p,dot:m[0]}),d},_eventHandler:function(a){var b=this;switch(a.type){case"touchmove":b._touchMove(a);break;case"touchstart":b._touchStart(a);break;case"touchcancel":case"touchend":b._touchEnd();break;case"webkitTransitionEnd":b._transitionEnd();break;case"ortchange":b._resize.call(b)}},_touchStart:function(a){var b=this;b.data({pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,S:!1,T:!1,X:0}),b.data("wheel").style.webkitTransitionDuration="0ms"},_touchMove:function(a){var b=this._data,c=b.X=a.touches[0].pageX-b.pageX;if(!b.T){var d=b.index,e=b.length,f=Math.abs(c)<Math.abs(a.touches[0].pageY-b.pageY);b.loop&&(b.index=d>0&&e-1>d?d:d===e-1&&0>c?e/2-1:0===d&&c>0?e/2:d),f||clearTimeout(b.play),b.T=!0,b.S=f}b.S||(b.stopPropagation&&a.stopPropagation(),a.preventDefault(),b.wheel.style.webkitTransform="translate3d("+(c-b.index*b.width)+"px,0,0)")},_touchEnd:function(){var a=this,b=a._data;if(!b.S){var c=b.springBackDis,d=b.X<=-c?Math.ceil(-b.X/b.width):b.X>c?-Math.ceil(b.X/b.width):0;b._stepLength=Math.abs(d),a._slide(b.index+d)}},_slide:function(b,c){var d=this,e=d._data,f=e.length,g=f-e.viewNum+1;return b>-1&&g>b?d._move(b):b>=g?e.loop?(e.wheel.style.cssText+="-webkit-transition:0ms;-webkit-transform:translate3d(-"+(f/2-1)*e.width+"px,0,0);",e._direction=1,a.later(function(){d._move(f/2)},20)):(d._move(g-(c?2:1)),e._direction=-1):(e.loop?(e.wheel.style.cssText+="-webkit-transition:0ms;-webkit-transform:translate3d(-"+f/2*e.width+"px,0,0);",a.later(function(){d._move(f/2-1)},20)):d._move(c?1:0),e._direction=1),d},_move:function(a){var b=this._data,c=b.dotIndex[a];if(this.trigger("slide",c),b.lazyImgs.length){var d=b.allImgs[a];d&&d.src||(d.src=d.getAttribute("lazyload"))}b.showDot&&(b.dot.className="",b.dots[c].className="ui-slider-dot-select",b.dot=b.dots[c]),b.index=a,b.wheel.style.cssText+="-webkit-transition:"+b.animationTime+"ms;-webkit-transform:translate3d(-"+a*b.width+"px,0,0);"},_transitionEnd:function(){var a=this,b=a._data;if(a.trigger("slideend",b.dotIndex[b.index]),b.lazyImgs.length){for(var c=b._stepLength,d=0;c>d;d++){var e=b.lazyImgs.shift();e&&(e.src=e.getAttribute("lazyload")),b.loop&&(e=b.allImgs[b.index+b.length/2],e&&!e.src&&(e.src=e.getAttribute("lazyload")))}b._stepLength=1}a._setTimeout()},_setTimeout:function(){var b=this,c=b._data;return c.autoPlay?(clearTimeout(c.play),c.play=a.later(function(){b._slide.call(b,c.index+c._direction,!0)},c.autoPlayTime),b):b},_resize:function(){var a=this,b=a._data,c=b.root.offsetWidth/b.viewNum,d=b.length,e=b.items;if(!c)return a;b.width=c,clearTimeout(b.play);for(var f=0;d>f;f++)e[f].style.cssText+="width:"+c+"px;-webkit-transform:translate3d("+f*c+"px,0,0);";return b.wheel.style.removeProperty("-webkit-transition"),b.wheel.style.cssText+="width:"+c*d+"px;-webkit-transform:translate3d(-"+b.index*c+"px,0,0);",b._direction=1,a._setTimeout(),a},pre:function(){var a=this;return a._slide(a.data("index")-1),a},next:function(){var a=this;return a._slide(a.data("index")+1),a},stop:function(){var a=this;return clearTimeout(a.data("play")),a.data("autoPlay",!1),a},resume:function(){var a=this;return a.data("_direction",1),a.data("autoPlay",!0),a._setTimeout(),a}})}(Zepto),function(a,b){var c,d=["01","02","03","04","05","06","07","08","09","10","11","12"],e=["","","","","","",""],f=/^(\+|\-)?(\d+)(M|Y)$/i,g=function(a,b){return 32-new Date(a,b,32).getDate()},h=function(a,b){return new Date(a,b,1).getDay()},i=function(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c},j=function(a){return a.is("select, input")?a.val():a.attr("data-value")};a.ui.define("calendar",{_data:{date:null,firstDay:1,maxDate:null,minDate:null,swipeable:!1,monthChangeable:!1,yearChangeable:!1,selectYear:null,selectYearBefore:null,selectYearAfter:null},_create:function(){var b=this.root();b=b||this.root(a("<div></div>")),b.appendTo(this.data("container")||(b.parent().length?"":document.body))},_init:function(){var b=this._data,c=this._container||this.root(),d=a.proxy(this._eventHandler,this);this.minDate(b.minDate).maxDate(b.maxDate).date(b.date||new Date).refresh(),c.addClass("ui-calendar").on("click",d).highlight(),b.swipeable&&c.on("swipeLeft swipeRight",d)},_eventHandler:function(b){var c,d,e,f,g,h=(this._data,(this._container||this.root()).get(0));switch(b.type){case"swipeLeft":case"swipeRight":return this.switchMonthTo(("swipeRight"==b.type?"-":"+")+"1M");case"change":return g=a(".ui-calendar-header .ui-calendar-year, .ui-calendar-header .ui-calendar-month",this._el),this.switchMonthTo(j(g.eq(1)),j(g.eq(0)));default:d=b.target,(c=a(d).closest(".ui-calendar-calendar tbody a",h))&&c.length?(b.preventDefault(),e=c.parent(),this._option("selectedDate",f=new Date(e.attr("data-year"),e.attr("data-month"),c.text())),this.trigger("select",[f,a.calendar.formatDate(f),this]),this.refresh()):(c=a(d).closest(".ui-calendar-prev, .ui-calendar-next",h))&&c.length&&(b.preventDefault(),this.switchMonthTo((c.is(".ui-calendar-prev")?"-":"+")+"1M"))}},_option:function(c,d){var e,f,g=this._data;if(d!==b){switch(c){case"minDate":case"maxDate":g[c]=d?a.calendar.parseDate(d):null;break;case"selectedDate":e=g.minDate,f=g.maxDate,d=a.calendar.parseDate(d),d=e&&e>d?e:f&&d>f?f:d,g._selectedYear=g._drawYear=d.getFullYear(),g._selectedMonth=g._drawMonth=d.getMonth(),g._selectedDay=d.getDate();break;case"date":this._option("selectedDate",d),g[c]=this._option("selectedDate");break;default:g[c]=d}return g._invalid=!0,this}return"selectedDate"==c?new Date(g._selectedYear,g._selectedMonth,g._selectedDay):g[c]},switchToToday:function(){var a=new Date;return this.switchMonthTo(a.getMonth(),a.getFullYear())},switchMonthTo:function(b,c){var d,e,g,h=this._data,i=this.minDate(),j=this.maxDate();return a.isString(b)&&f.test(b)?(d="-"==RegExp.$1?-parseInt(RegExp.$2,10):parseInt(RegExp.$2,10),e=RegExp.$3.toLowerCase(),b=h._drawMonth+("m"==e?d:0),c=h._drawYear+("y"==e?d:0)):(b=parseInt(b,10),c=parseInt(c,10)),g=new Date(c,b,1),g=i&&i>g?i:j&&g>j?j:g,b=g.getMonth(),c=g.getFullYear(),(b!=h._drawMonth||c!=h._drawYear)&&(this.trigger("monthchange",[h._drawMonth=b,h._drawYear=c,this]),h._invalid=!0,this.refresh()),this},refresh:function(){var b=this._data,c=this._container||this.root(),d=a.proxy(this._eventHandler,this);if(b._invalid)return a(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",c).highlight(),a(".ui-calendar-header select",c).off("change",d),c.empty().append(this._generateHTML()),a(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",c).highlight("ui-state-hover"),a(".ui-calendar-header select",c).on("change",d),b._invalid=!1,this},destroy:function(){var b=this._container||this.root(),c=this._eventHandler;return a(".ui-calendar-calendar td:not(.ui-state-disabled)",b).highlight(),a(".ui-calendar-header select",b).off("change",c),this.$super("destroy")},_generateHTML:function(){var a,b,c,d,f,i,j,k,l=this._data,m=l._drawYear,n=l._drawMonth,o=new Date,p=new Date(o.getFullYear(),o.getMonth(),o.getDate()),q=this.minDate(),r=this.maxDate(),s=this.selectedDate(),t="";for(c=isNaN(c=parseInt(l.firstDay,10))?0:c,t+=this._renderHead(l,m,n,q,r)+'<table  class="ui-calendar-calendar"><thead><tr>',a=0;7>a;a++)d=(a+c)%7,t+="<th"+((a+c+6)%7>=5?' class="ui-calendar-week-end"':"")+">"+"<span>"+e[d]+"</span></th>";for(t+='</thead></tr><tbody><tr class="ui-calendar-gap"><td colspan="7">&#xa0;</td></tr>',i=g(m,n),f=(h(m,n)-c+7)%7,j=Math.ceil((f+i)/7),k=new Date(m,n,1-f),a=0;j>a;a++){for(t+="<tr>",b=0;7>b;b++)t+=this._renderDay(b,k,c,n,s,p,q,r),k.setDate(k.getDate()+1);t+="</tr>"}return t+="</tbody></table>"},_renderHead:function(a,b,c,e,f){var g,h,i='<div class="ui-calendar-header">',j=new Date(b,c,-1),k=new Date(b,c+1,1);if(i+='<a class="ui-calendar-prev'+(e&&e>j?" ui-state-disable":"")+'" href="#">&lt;&lt;</a><div class="ui-calendar-title">',a.yearChangeable){if(i+='<select class="ui-calendar-year">',null!==this._data.selectYearBefore||null!==this._data.selectYearAfter){var l=new Date,m=l.getFullYear();for(g=m-parseInt(this._data.selectYearBefore),h=m+parseInt(this._data.selectYearAfter);h>g;g++)i+='<option value="'+g+'" '+(g==b?'selected="selected"':"")+">"+g+"</option>"}else for(g=Math.max(1970,b-10),h=g+20;h>g;g++)i+='<option value="'+g+'" '+(g==b?'selected="selected"':"")+">"+g+"</option>";i+="</select>"}else i+='<span class="ui-calendar-year" data-value="'+b+'">'+b+""+"</span>";if(a.monthChangeable){for(i+='<select class="ui-calendar-month">',g=0;12>g;g++)i+='<option value="'+g+'" '+(g==c?'selected="selected"':"")+">"+d[g]+"</option>";i+="</select>"}else i+='<span class="ui-calendar-month" data-value="'+c+'">'+d[c]+"</span>";return i+='</div><a class="ui-calendar-next'+(f&&k>f?" ui-state-disable":"")+'" href="#">&gt;&gt;</a></div>'},_renderDay:function(a,b,c,d,e,f,g,h){var i,j=b.getMonth()!==d;return i=j||g&&g>b||h&&b>h,"<td class='"+((a+c+6)%7>=5?"ui-calendar-week-end":"")+(i?" ui-calendar-unSelectable ui-state-disabled":"")+(j||i?"":(b.getTime()===e.getTime()?" ui-calendar-current-day":"")+(b.getTime()===f.getTime()?" ui-calendar-today":""))+"'"+(i?"":" data-month='"+b.getMonth()+"' data-year='"+b.getFullYear()+"'")+">"+(j?"&#xa0;":i?"<span class='ui-state-default'>"+b.getDate()+"</span>":"<a class='ui-state-default"+(b.getTime()===f.getTime()?" ui-state-highlight":"")+(b.getTime()===e.getTime()?" ui-state-active":"")+"' href='#'>"+b.getDate()+"</a>")+"</td>"}}),c=a.ui.calendar.prototype,a.each(["maxDate","minDate","date","selectedDate"],function(a,b){c[b]=function(a){return this._option(b,a)}}),a.calendar={parseDate:function(b){var c=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return a.isDate(b)?b:c.test(b)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},formatDate:function(a){return a.getFullYear()+"-"+i(a.getMonth()+1,2)+"-"+i(a.getDate(),2)}}}(Zepto),define("gmu",["zepto"],function(){}),define("components/cache",[],function(){var a=new function(){};return a.put=function(a,b){null==window.cache&&(window.cache={}),window.cache[a]=b},a.get=function(a){return null==window.cache?null:window.cache[a]},a}),define("components/fixed",["zepto","backbone","gmu","components/cache"],function(a){function b(){}function c(){a(".cube-flight-loader").css({position:"absolute"})}function d(){a(".cube-flight-loader").css({position:"fixed"})}function e(){}function f(){}function g(){}function h(){}var i=function(){a("header").css({width:""}),a("header .title").css({position:"absolute"}),a("header").css({position:"absolute"});var b=a("header").css("width");a("header").css({position:"fixed"}),a("header").css({width:b})},j=function(){a(window).on("orientationchange",b),a(window).on("resize",c),a(window).on("scroll",d)},k=function(){a(window).off("orientationchange",b),a(window).off("resize",c),a(window).off("scroll",d)},l=function(){a(window).on("orientationchange",e),a(window).on("resize",f),a(window).on("scroll",g)},m=function(){a(window).off("orientationchange",e),a(window).off("resize",f),a(window).off("scroll",g)};return{FxHeader:i,FixLoaderOn:j,FixLoaderOff:k,FixPopoverOn:l,FixPopoverOff:m,FixHeaderWithPopoverOffsetTop:h}}),define("components/loader",["zepto","components/fixed"],function(a,b){function c(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1}function d(a){for(var b=j.length;b--;)if(a.keyCode===j[b])return c(a),void 0}function e(a){c(a)}function f(){window.addEventListener&&(window.addEventListener("DOMMouseScroll",e,!1),window.addEventListener("touchmove",e,!1),window.onmousewheel=document.onmousewheel=e,document.onkeydown=d)}function g(){window.removeEventListener&&(window.removeEventListener("DOMMouseScroll",e,!1),window.removeEventListener("touchmove",e,!1)),window.onmousewheel=document.onmousewheel=document.onkeydown=null}var h,i,j=[37,38,39,40],k=function(b){this.config={autoshow:!0,target:"body",text:"...",cancelable:!0},i=!1,b&&(this.config=a.extend(this.config,b)),this.config.autoshow&&this.show()};return k.prototype.show=function(){h=this,f();var c=a(this.config.target),d=this.find();if(!d){var e=a("<div/>").addClass("cube-loader-mask"),g=a("<div/>").addClass("cube-flight-loader"),j=a("<img/>").addClass("cube-flight-loader-flight");j.attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABMCAYAAAD6BTBNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYwREU3RUVEN0NGODExRTI4OENEODE5MUE4NkZCQUREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYwREU3RUVFN0NGODExRTI4OENEODE5MUE4NkZCQUREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjBERTdFRUI3Q0Y4MTFFMjg4Q0Q4MTkxQTg2RkJBREQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjBERTdFRUM3Q0Y4MTFFMjg4Q0Q4MTkxQTg2RkJBREQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7Cd8RcAAANlElEQVR42uxcCWwU1xmemZ21vZdv72LwhY1tjDlMADsJoSmGJuSAKJdQEpqqVaVUTXqnUpM0IW2UKoeUpCpKpVZJ2hxCwQokQWniQAjgmBhiQ2LAYIzxhQ2+d9f23rPb99b/W/4dfMyaZHZbM9KvHcPO23++973/fDM8v+FxTuWDV/i9ABfjh//jZzlRRdCYCCAa9HdIJwBOgnMmMQuomgAK8HtaInEgIgiPgPMS8cAnFR/8+6wGkIEXTySBiIGIkYgOgNQAQBQwJxEHkTE4dwGggVgEUVS61meM3C1PsKWrBfASiaQQSSWSDGBqARw3kREiViJD8Mkj8CSii+ogknuIGQZSxiXdc8PipSZ9fP6o053m9komye+PDyqjEVzxWtF+qKnz1PkB2zlgJrONErKRs9IGUpbpKet+fPOKjbesLNo02Zerak7Ub/7L9rcBeAnZQ4mwIRANFk7FDDWdCAXR8MGhpu6pvnx7RfHy4qz0JeQ0i0gGERMsfzGCMOj/CsAABvFfe472uzw+32Rf1sVpNVu3rFtPTrOJmMFW6mECBLCrsw5AFs9xHp/EN5ztHp7qAmIns5flZ5aS07lE0oCFulhj4XcOINgrFuP5mBxobOuf0jhrBOHpLetWkdN5sIwZC+NiiYVqMdAPwHkhVHFWN7T0THfRxmsXWq5flFNCTucgFibAUp6VALogSB6pOdHeOTTi9EypHM/zWx9YVyZjoYEF37HAQjVtoAQZhROyDFvd6c7h6S78wTULMtYvLyidgIWiivpHF0CwgwxAFwNw/zdT20F2PL1l/VJwJmbIYgyQFkbdFqo5g3gZj1L5uL65TcmFxA6m3rW6dCliYSKyhcJsAjDkRKgdPNnRd6Gzz+pQcvEf71+7GLEwZmyhmgDK7SBlof3QqU6rkovL8jOTtlSWlQEL04GFumjbQtV+WGYHQ47k86/PXVA6BmFhqcwWGqPNQrVnDi9junRH//NVc5s/EFBUHCial258eOO1q2Qs1EeThdEA0IcAHOketPef7uofUTrA7+9ZU6QVNbTIYJF55KiwUJRVTLBcQnm8oMhSsistJ8mXsf2Lkx3WRTnmRCUX55iT9b+9c3X581UH6dKnYZAVJsODJkhVBrIqiQbCgngwzkYIWo0wy6z8LhJAZzTbyA56UThj2/d1a1ck4/z6ztUFujgtq9Skgo5RYaGAPhl4RggT0sDOZMB5Mvwfi79mqmwAARj0xp/Un2l3e31+pQNYUowJf9h8YwU4FKpjEip3aaLBQA2wywDKmEE5Oss53HhhUx4+zBREP1rGQUdid7iHjrVesEUyCHEmeakmXY7MI6vOQtajFRH76JLIJJJHpJA6P/jMR0n9lYKI07rRcTvYPhTJAAS8uCfuW8tYmAETr1M7rBHRZ7Bjdv/aZcse2XTdgw63V+/1SXEkxBA0Ai+9vLO2prqh5RsuvKjJCqXMtimyg+TmmB0MOZI9R892PHr3moJIlP/phpXZL733RR7x5L3kz0E6Dozp4VRqQGEnEmQg8Yh8eXHW9ZXL8pffvKKw9JaVRSU3XVO4+LXf3PVgQWbqCvKdBcDEdFwZIaAIES5jHM6M7m9s6xxxur2RKG/SxWuffKCyAlYMYyFL8VQpNIgISGoH40luqm3vHR7Mn5Oajr84Ny3R8O7j9937vUf/sYOwU0ChjgaWoRuYFVA4cXGIyRJhu6vuVJeVlq8iuYEfriub92LVwcLWC0OUgTaYFD+M7SU6+SMYLiATPxfejrjs3jT8gjWC3P5dtyi3eHGu5bIbyUw1JZTmWua9e6BxEAYTZB5cBwzQw+dUYgLGpAF7LLnmZEtlWUFaJABqNRqBzK1xV+3JPjALfqRTAuiiRB8WqjE7qkUTLEwE4NYt60IAamEAGqqYLcmG3FvLi3MmUnhhdoZRnxCXsvfY2THGWgRcIoyRMo0kg6SDF6Uefq5tzJXws9sqsiJdRiQIN+44eNw9aHd4ELv1QIokhfokghjh2gTu0raTiZgaBFBEFA01sD860nxx28OTK/y7u2+Yf7K91/HmZ8eMAMIQOAM3oruSZawD5akNszS2XXT2Do+6aJwXkR3SCMJzP9mw4M4/v+2Cm0+H5exU6NwCsvCKVYtGYBw7/C1f6kEAMXjBizv6rIO0TkfTpgnvnOf5v//yjpKWnkHnl6c6zTB4pADyMMMs2wketU0dw3etLs2MlIW0AbW8YG7nsdaeAohb7RAmSQrAkxd82f6cASJ9kDIKE4AdciI+hHzQK9a3dNsmA5AetPld+9JDq7gYOeikNmx7uPzbGOvC0IiTkGPglZ21+9//sukIIpoPSdDBUBuIUzk92IHUnIzkPOIRzdwsPGh4RBxa0r3fW7I0QOLgg8fbe4CZLlhlwX061AZiWjIWQt/2TA83yw/K6sc2f389MQ2FXHgbIRTGCWj9hzmS4+291n7bmHu2g5gQJ4oP3VZejgopIndpe3JYQRUHkBRIqamzb4S7enDZGUlpKKQRJqtIywuqwry0RN1V+Ig7HnWNcZNs8BQQeCydCxZWaeq2YG6aYbaDR/s1O2tPNEKY5sEeWA6gBpW1dDevKJx7lXsct6u26fh7X5xshLhwTF7pERF4LJ8N5o9rFudlzGbg6AbQ16rrD//i1d0fkD+7IdsaBQAleTUGAxh8BKG8OCtpuh95vupga3X9GSu4fJcg8F7i+RVXP/z+gCj5/XpU2eEevWdN1q2rii0zuenH3/j0TN3pzhHQx0308SjUJ8BzvJ/nOYlc53F7fbZ935xrhSyE1hovonT1MgbihhJ1GvpUky5lYXaGaapfJLPT9djr1Wdo4A7FzFGUyiktaekg2bdAZZl79ZE79DMBj0QM9ud2HOiBm+2V5cJK9GHRR2jrCYxhBWGpoQ+nq/IlHHyKiDAgkwaRk/3SgeNtAz/f9mEdOT2H6I1nR8mhAbang2JxlhRjZlFWunEmAD757z10oxJlTTtMqlVhLszJ6n84rWUVcwcA60He+LKCaii6riwrmNT+ne0ZHLv7mXf2eX1SE/mzDWac9WZ9EQCohbTRA6bDvKmipGSqiZvsIHn78K5DTdTQtyCdGGP8CgHECQXbTetFnnfCR85EFPexGfCuKsqasKhpHXN5Nz39VjXJtY/DbJ+HSsUImm0ly4UH0CTIvyn43rVl+SkzZN8JYF4HkU6wXczgK+2LyCvRcpnwUTNRvv7NyQZv0by0dPkXad/2Ry9WfXK6q78Blm4XYp8TVYOV2j8Gng8AFW8ozY0YQGpOqhtaGkEftlthCHTycZE1lsK+y3ZgKHnUyw+z5bitfKGW5MAXvZJf65P8Iokj+UR9Qtyru+tqdh8+fQBmuAdmmRnqoG1QuuUDGlAaVHY3lOaa52SlJ0WU+dAg96k3936N9BmG1RCsmBB9/Nx3fIioEkOXoP2NTxuOEvkVN96rMMCNekCxAZhh1kJ0RAoeYiBrpQb7I7eXL5wfqfIfHWnuqznRfgq87pDMU6ryOBgGkD0pycFytEECzcP/O0BBVt5myzYi8KDVyHZCMAAT1yzJS49EcbI6/H96+7OjMvbNdEKvCEDcC2DL2Q0AsoYKi49caMl6Z6goBjDU+Ll+UW5qRCnWoaaLR8/2NAP7BmHynWqyD9tACYHnA0U0KEPAtUKJxUIztDF4+VKbZyJpY06yIUGrdADq0J56c089cho25slBL1UBZD/G4hwfd/keQXnD+Ur2CDL2sbTRtGFlUU4kA2zf39jdfH7gLEQBgyiMUpV98jCG42QPBSJ3/q38mMz+hXrJJHxR3Ex3erwSifuOAPsGEPs8arNPXlBV6/cwgEatqEkuL85SHP+9Xt3Q1T1ob5PZPjcXpRdTqA0gL6v6JN66qmh+vFZUpAfdfLT1rb11E9i+qLBPVQDR8sV7Vkzrly/IVjrG3z74sp2kkR0o7mMVIEmNoDkWGBi2fCkDVytM32iH8IWqg4fBcfSjLMirsOLyPw8g3gkbBDDVpEtbOn+Oot35f33/UKvd4e5Cxc1RVsCI5kso1AYwzP5trCjJV1K+Oj9gc76yq/YrVLy1o6A5auxTDUCwf3jPXjD+qyzLV9S4enlnbYvD7T2PUjZm+3zRfgWKmq89EeXx33UlOdPaP1rA3ba7rl4W9+HyGTcbAMT2L+h9CzJTLUr6zi9W1TR7fVL3BOyTYuEFPFFj4O0VC/Omu4g2iv75yVeYfdj2RZ19qgCI7F9Y46qyrGDarXPPbv+cluq7Ie7DjW0pVl7/pCYD2cacoNetKM6esnxFG0Xb9zfWQ71vMNZsXzQAZMUK6aZrCk3mZMOU5ftn3tlXy423D3rB9o1FM2WLhTgwVGvcfOOSKcOXw81dXbsPn6Y5L+v6sVJ9TLEPl7O+6wP3XUbitaK15kT7EafHq3d7pQTJ7w/qoREEX7xW49r2Yd2n3HjbtIcLb9pLscQ+NQFk7KOVk+EtL+zYTj73cuMP9pggvAmAjbOBzcPNq6gUSxXZJhVegzxRE4mClshdejqIvUPVA2wb5S41r1i5KuaWr1qvQQ5w4Z0/du7kLj0vJ3DhG93Zbni2Iz4m2af2Eg55YQDFIQtt8AMsrEiA3yc9qwHE+00YgJe93IIL781gidmDV/jKlqvHJMd/BRgAyXPSvxo2iRUAAAAASUVORK5CYII=");var k=a("<img/>");k.attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc2NUIyNTY4N0NGODExRTI4NTM0QTk5OUJEQjdBQzlGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc2NUIyNTY5N0NGODExRTI4NTM0QTk5OUJEQjdBQzlGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzY1QjI1NjY3Q0Y4MTFFMjg1MzRBOTk5QkRCN0FDOUYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzY1QjI1Njc3Q0Y4MTFFMjg1MzRBOTk5QkRCN0FDOUYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Lar7mAAAG1klEQVR42syaeWxUVRTGv7fM0tnbme60ZRkpS0QMsUnLUpBACxgWlyAkJhCjgVATE0FL3DCKgIKhFMMfgiFxSUQNMVJaqKwiqEhKWCogWDRQWlpaCl2nnRnPfX2DbTPzlmmh3JcvM52+e+6v39z1vHLPfN+IfhYnKVdWJimJNJ4kyL/3k06TakgXSUdkNfWnUS5KcCNpAekF0pwo2y4hfUHaTfLprSwGg7rujyG9SCokpfbzm5oj6zppPWkHqU1rZT4IzVc+6QypmJSqo57alSrHPCO3oeniwRxX1zpSKcmr8f5o5JXbWKflfjEIxb5iI31LyseDK4Xy4H6O1BxNH08n7SE9igdfmFHHSfNIVRHAw5LHkw6QvBi8wgzbT8oh1WkBN8pODyZ0qHhllsl9p0yecffRJlJWmM8HS1kyU6/PxUDvwcn6VgEevlIgL1hl4boK6yLFqisWz2HpYxaM9YiorG3Dp781gjeaIAii9lWPYrz8uAUj40RUVLdi+6km8AajWgzGNjbUZXrOKsvV+jVrcHWOHdlpZunnkR4T3EY/3iyvgcnmgigaNEG/PcmOJ1L/jxFPMdYcvEkxnEoxvDJjEftBGPH0ypDbu0gOpUZfIpdmjLD0+izDbcEwqrWvsl5yjed5Reh3pzjuQYfKMA/F7GjG8ao7MBiN4DheaabZyjZufIAsJy0gpcrvI2pCsjFstKmZCVg7IxGtTQ3o7PSFrUvMYaFDJfcRN27drEF7e5sSA2NcKMVjfZy0RH5V1B/XWiK6OXVUAj6cmYTWOw3oIvie9QSCXpPrjAjNSvmZf9DW2owuX6cax2L2yhyPI81Qc5tp66/1OHqpXhF+3cxkCT7kPHP6PYLOUoDeV3EVb+06CVOMBbwoqHEw1jg2j2czU7TMqX7ehMKyGzh84aYi/Pq8FLTdaQTn78L7U13IGhKjCL24+CeYHW643IkQjWY1DsaaLQYDwVzNe2BOgBhjR2FpNW2ggwSZGBF+A70aaJrUAh3j9MCTlAar3Sm1QUxqKLki2T5G15GJ5lrR6sTrpTckuGkK8EqlG7ocZmc83CnpsDpjpdgBbSebMWxwZmoZmD3FUwMGiwNv7K3GoQu1upfBELSJOZ2cBpvDJcXUwZDJBmeSloHZV8wdgeBXlVzHoT9r9UM7PHBT97AQdMhpHWKDM2jT63hP50WCX1lyTRM8g160pRxGgo5LGgKrfqdDsokBnaflcH3ezJZqGojqNwMmqx1OT1Ivp6MpzPHmaB1nEglm4+xkTB7hUm0sb/xQfLl8CgwC0J82GTP1cdSw2ScaCRyHDXkJyE63anZq+tgUFM0fTluTJlqkuhBl2w3M8YvROv1xXjxy0i26v+YnRydi89x0+FoaaXvQGY3jl/lAIFhJgh6xvcfG/ATkZFgVB+K+01cV4YvmZsDXfFuC18lwljl+RJfTtOPcNCtRFfr5Lfux5LMTOHC+WhF+y7xueH+XLuePsHn8BMmvZf4UCPoTgp6oBl20H6ItDjGeIXhldxUOVtZEhh+TiOL5Q9HRQs4TvAYOxnpCSMwvYPm6bC2n+lWTPJg9yqkKLRC0KyGFprw4OlzEoPRcLTLdIobH28LWG0afm4MdOHypAYLIDhKcEgZLWWwPHSR2anF8YoZFA3QsHPHJ0jGMDpGSgma75PwBBeenZXpwt7Eenb52NY6v5YOEtFXcTbqutq09+NftiNALCZq3xsLuSaEFiRYXXrxXj72nfSsKFOD3nqqCr72VukuXEgNj/Ia9Fzx5K1iCwi8rXynX+MvfjfC6OHgTbGGhHQyatqZsRexbl+gR5A3Ye7YWoz2GXt3mx5NXsGLnMZjssdIqzNOBOQLDO6Tj7L3gmbkiVL+CtIgUF+nrDNCaXUIN2/hO8PDjh9+vYNmOnwnaRU4ndzeqkGLgJHgRJdTnrZyPYgS6Y3x+FAabG9bYBBjoFBShj18mLZWfcIDL3Hi+b7J9j9LICNCppqPlLp1wbqGzo50OC2Y6CLilPQivMbdyL0bTLalPG0wUw6Ea4yk5KdSdMehz2CiRj/+Rs1nkmNHqAM+OWAQgbW9pJqAWEdC6X+K79/M9Y4gGxRjbekJLjns/Ohcu6clSvBMekvTbKTlj61PL1rIbZsnwg52xvSyz+LQm9lk+evogJvZZOSsn9uv0Prz6l5RDKhvAB1VarzK57apIdwiu6cuU/mr2FX1FYtmcSQ/I6fXytOcbiOecq0nHSJvvY79n/fnVvrPHQDznLCGNI71GqhvAblEnxxwnt6Hp4tLWno72kfiz8iPxaB8llsmPxL+L5pE4l/ZBxf34J4QJYebiAf0nhP8EGABO3rRuBVVEBgAAAABJRU5ErkJggg==");var l=a("<a/>").addClass("cube-flight-loader-cancel");l.attr("href","javascript:void(0)"),0!=this.config.cancelable&&l.bind("click",function(){h.hide(),i=!0}),l.append(k);var m=a("<span/>").addClass("cube-loader-text");m.html(this.config.text),g.append(j),g.append(l),g.append(m),a(c).append(e),a(c).append(g),b.FixLoaderOn()}},k.prototype.hide=function(){g();var c=h.find();c&&(a(".cube-loader-mask").remove(),a(c).remove()),b.FixLoaderOff()},k.prototype.hideAll=function(){g();var c=a(".cube-flight-loader");c&&c.length>0&&a(c).each(function(){a(this).remove()}),b.FixLoaderOff()},k.prototype.find=function(){var b,c=a(this.config.target),d=c.children();return a(d).each(function(){a(this).hasClass("cube-flight-loader")&&(b=this)}),b},k.prototype.isCanceled=function(){return i},k}),define("components/util",[],function(){var a={versions:function(){var a=navigator.userAgent;return navigator.appVersion,{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/)||!!a.match(/AppleWebKit/),ios:!!a.match(/(i[^;]+\;(U;)? CPU.+Mac OS X)/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1||a.indexOf("Mac")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari"),apad:(a.indexOf("Android")>-1||a.indexOf("Linux")>-1)&&a.indexOf("Mobile")<0}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},b=function(){return Math.round((new Date).getTime()/1e3)};return{generateTimeStamp:b,browser:a}}),define("core/cocrouter",["require","underscore","backbone","core/mainview","components/loader","components/util"],function(a,b,c,d,e,f){var g=c.Router.extend({loadMode:"view",urls:[],routes:{"":"index","*module/*page(?*param)":"modularRoute","*page(?t=:param)":"pageRoute"},initialize:function(a){a&&(this.delegate=a.delegate,this.loadMode=pieceConfig.loadMode,this.defaultModule=pieceConfig.defaultModule,this.defaultView=pieceConfig.defaultView,this.enablePad=pieceConfig.enablePad)},index:function(){this.modularRoute(this.defaultModule,this.defaultView)},_loadViewByApp:function(b,c,d,e){a([b+"/"+c],function(a){var c=new a;c.module=b,d(c)},function(a){e(a)})},_loadViewByModule:function(b,c,d,e,f){a([b+"/"+c],function(a){var c;c=null===d||""===d?a["default"]:a[d];var f=new c;f.module=b,e(f)},function(a){f(a)})},_loadViewByView:function(b,c,d,e){a([b+"/"+c],function(a){var c=new a;c.module=b,d(c)},function(a){e(a)})},modularRoute:function(b,c,d){function g(a){"portal"==a.type?(a.render(),"onShow"in a&&a.onShow()):l.delegate.changePage(a,b),void 0!==i&&i.hide()}function h(a){void 0!==i&&i.hide(),console.log("cube---cocrouter---load fail: "+a.message)}console.info("cube---cocrouter---modularRoute--"+b+"/"+c+"/"+d);var i,j,k,l=this;switch(this.loadMode){case"app":throw new Error("app scope router not implement yet");case"module":console.info("cube---cocrouter---load by module"),"true"===this.enablePad?(console.info("cube---cocrouter---enablePad === true"),f.browser.versions.apad||f.browser.versions.iPad?(j=a.defined(b+"/modulePad"),k="modulePad"):(j=a.defined(b+"/module"),k="module")):(j=a.defined(b+"/module"),k="module",j||(i=new e({text:"..."}))),this._loadViewByModule(b,k,c,g,h);break;case"view":console.info("cube---cocrouter---load by view");var j=a.defined(b+"/"+c);j||(i=new e({text:"..."})),this._loadViewByView(b,c,g,h);break;default:throw new Error("missing loadMode")}},pageRoute:function(a){console.log("page route to:"+a)}});return g}),define("core/app",["zepto","backbone","core/mainview","core/cocrouter"],function(a,b,c,d){var e=function(){var e=new c,f=(new d({delegate:e}),window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")));console.info("cube---app---start watch history, rootPath: "+f),b.history.start({pushState:!1,root:f}),a("#appLoadingIndicator").remove(),a("body,html").css("background-color","white")};return{initialize:e}}),function(a){var b,c=function(a,b){"undefined"==typeof b&&(b={}),this.init(a,b)},d=c.prototype,e=["canvas","vml"],f=["oval","spiral","square","rect","roundRect"],g=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=-1!==navigator.appVersion.indexOf("MSIE")&&8===parseFloat(navigator.appVersion.split("MSIE")[1])?!0:!1,i=!!document.createElement("canvas").getContext,j=!0,k=function(a,b,c){var d,a=document.createElement(a);for(d in c)a[d]=c[d];return"undefined"!=typeof b&&b.appendChild(a),a},l=function(a,b){for(var c in b)a.style[c]=b[c];return a},m=function(a,b){for(var c in b)a.setAttribute(c,b[c]);return a},n=function(a,b,c,d){a.save(),a.translate(b,c),a.rotate(d),a.translate(-b,-c),a.beginPath()};d.init=function(a,d){"boolean"==typeof d.safeVML&&(j=d.safeVML);try{this.mum=void 0!==document.getElementById(a)?"object"==typeof a?a:document.getElementById(a):document.body}catch(f){this.mum=document.body}if(d.id="undefined"!=typeof d.id?d.id:"canvasLoader",this.cont=k("div",this.mum,{id:d.id}),i)b=e[0],this.can=k("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=l(k("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(b=e[1],"undefined"==typeof c.vmlSheet){document.getElementsByTagName("head")[0].appendChild(k("style")),c.vmlSheet=document.styleSheets[document.styleSheets.length-1];
var g,h=["group","oval","roundrect","fill"];for(g in h)c.vmlSheet.addRule(h[g],"behavior:url(#default#VML); position:absolute;")}this.vml=k("group",this.cont)}this.setColor(this.color),this.draw(),l(this.cont,{display:"none"})},d.cont={},d.can={},d.con={},d.cCan={},d.cCon={},d.timer={},d.activeId=0,d.diameter=40,d.setDiameter=function(a){this.diameter=Math.round(Math.abs(a)),this.redraw()},d.getDiameter=function(){return this.diameter},d.cRGB={},d.color="#000000",d.setColor=function(a){this.color=g.test(a)?a:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},d.getColor=function(){return this.color},d.shape=f[0],d.setShape=function(a){for(var b in f)if(a===f[b]){this.shape=a,this.redraw();break}},d.getShape=function(){return this.shape},d.density=40,d.setDensity=function(a){this.density=j&&b===e[1]?Math.round(Math.abs(a))<=40?Math.round(Math.abs(a)):40:Math.round(Math.abs(a)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},d.getDensity=function(){return this.density},d.range=1.3,d.setRange=function(a){this.range=Math.abs(a),this.redraw()},d.getRange=function(){return this.range},d.speed=2,d.setSpeed=function(a){this.speed=Math.round(Math.abs(a))},d.getSpeed=function(){return this.speed},d.fps=24,d.setFPS=function(a){this.fps=Math.round(Math.abs(a)),this.reset()},d.getFPS=function(){return this.fps},d.getRGB=function(a){return a="#"===a.charAt(0)?a.substring(1,7):a,{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16)}},d.draw=function(){var a,c,d,g,i,j,o,p,q,r=0,s=this.density,t=Math.round(s*this.range),u=0;q=this.cCon;var v=this.diameter;if(b===e[0])for(q.clearRect(0,0,1e3,1e3),m(this.can,{width:v,height:v}),m(this.cCan,{width:v,height:v});s>r;){switch(p=t>=r?1-1/t*r:p=0,j=270-360/s*r,o=j/180*Math.PI,q.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+p.toString()+")",this.shape){case f[0]:case f[1]:a=.07*v,g=.47*v+Math.cos(o)*(.47*v-a)-.47*v,i=.47*v+Math.sin(o)*(.47*v-a)-.47*v,q.beginPath(),this.shape===f[1]?q.arc(.5*v+g,.5*v+i,a*p,0,2*Math.PI,!1):q.arc(.5*v+g,.5*v+i,a,0,2*Math.PI,!1);break;case f[2]:a=.12*v,g=Math.cos(o)*(.47*v-a)+.5*v,i=Math.sin(o)*(.47*v-a)+.5*v,n(q,g,i,o),q.fillRect(g,i-.5*a,a,a);break;case f[3]:case f[4]:c=.3*v,d=.27*c,g=Math.cos(o)*(d+.13*(v-d))+.5*v,i=Math.sin(o)*(d+.13*(v-d))+.5*v,n(q,g,i,o),this.shape===f[3]?q.fillRect(g,i-.5*d,c,d):(a=.55*d,q.moveTo(g+a,i-.5*d),q.lineTo(g+c-a,i-.5*d),q.quadraticCurveTo(g+c,i-.5*d,g+c,i-.5*d+a),q.lineTo(g+c,i-.5*d+d-a),q.quadraticCurveTo(g+c,i-.5*d+d,g+c-a,i-.5*d+d),q.lineTo(g+a,i-.5*d+d),q.quadraticCurveTo(g,i-.5*d+d,g,i-.5*d+d-a),q.lineTo(g,i-.5*d+a),q.quadraticCurveTo(g,i-.5*d,g+a,i-.5*d))}q.closePath(),q.fill(),q.restore(),++r}else{switch(l(this.cont,{width:v,height:v}),l(this.vml,{width:v,height:v}),this.shape){case f[0]:case f[1]:o="oval",a=140;break;case f[2]:o="roundrect",a=120;break;case f[3]:case f[4]:o="roundrect",a=300}for(c=d=a,g=500-d,i=.5*-d;s>r;){switch(p=t>=r?1-1/t*r:p=0,j=270-360/s*r,this.shape){case f[1]:c=d=a*p,g=500-.5*a-.5*a*p,i=.5*(a-a*p);break;case f[0]:case f[2]:h&&(i=0,this.shape===f[2]&&(g=500-.5*d));break;case f[3]:case f[4]:c=.95*a,d=.28*c,h?(g=0,i=500-.5*d):(g=500-c,i=.5*-d),u=this.shape===f[4]?.6:0}q=m(l(k("group",this.vml),{width:1e3,height:1e3,rotation:j}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),q=l(k(o,q,{stroked:!1,arcSize:u}),{width:c,height:d,top:i,left:g}),k("fill",q,{color:this.color,opacity:p}),++r}}this.tick(!0)},d.clean=function(){if(b===e[0])this.con.clearRect(0,0,1e3,1e3);else{var a=this.vml;if(a.hasChildNodes())for(;a.childNodes.length>=1;)a.removeChild(a.firstChild)}},d.redraw=function(){this.clean(),this.draw()},d.reset=function(){"number"==typeof this.timer&&(this.hide(),this.show())},d.tick=function(a){var c=this.con,d=this.diameter;a||(this.activeId+=360/this.density*this.speed),b===e[0]?(c.clearRect(0,0,d,d),n(c,.5*d,.5*d,this.activeId/180*Math.PI),c.drawImage(this.cCan,0,0,d,d),c.restore()):(this.activeId>=360&&(this.activeId-=360),l(this.vml,{rotation:this.activeId}))},d.show=function(){if("number"!=typeof this.timer){var a=this;this.timer=self.setInterval(function(){a.tick()},Math.round(1e3/this.fps)),l(this.cont,{display:"block"})}},d.hide=function(){"number"==typeof this.timer&&(clearInterval(this.timer),delete this.timer,l(this.cont,{display:"none"}))},d.kill=function(){var a=this.cont;"number"==typeof this.timer&&this.hide(),b===e[0]?(a.removeChild(this.can),a.removeChild(this.cCan)):a.removeChild(this.vml);for(var c in this)delete this[c]},a.CanvasLoader=c}(window),define("canvasloader",function(){}),define("components/base64Img",["zepto","underscore","backbone","canvasloader","components/util","components/cache"],function(a,b,c,d,e,f){var g=c.View.extend({initialize:function(){this.render()},render:function(){var b,c,d=this,g=a(d.el).attr("width")?a(d.el).attr("width"):30,h=a(d.el).attr("height")?a(d.el).attr("height"):30,i=a(d.el).attr("src"),j=a(d.el).attr("style"),k="true"==a(d.el).attr("isShowLoader");if(f.get("base64ImgClass")?(c=f.get("base64ImgClass")+1,f.put("base64ImgClass",c.toString())):(c="base64Img"+e.generateTimeStamp(),f.put("base64ImgClass",c.toString())),k){var l=document.createElement("div");b=a(l),b.attr({style:"margin:auto;width:"+g+"px;height:"+h+"px;","class":c.toString()});var m=new CanvasLoader(l);m.setColor("#cccccc"),m.setDiameter(h>g?g:h),m.setDensity(9),m.setSpeed(1),m.setFPS(27),m.show(),a(d.el).replaceWith(b)}else a(d.el).addClass(c.toString());a.ajax({type:"GET",url:i,dataType:"text",before:function(){},success:function(b){var d=a(document.createElement("img"));d.attr({width:g,height:h,style:"display:none",src:""}),a(d).attr({src:b,style:j}),a("."+c).replaceWith(d)},complete:function(){},error:function(){console.log("err")}})}},{compile:function(c){return b.map(a(c).find("base64"),function(a){var b=new g({el:a});return b})}});return g}),define("components/carousel",["backbone","underscore","zepto","gmu"],function(a,b,c){var d=a.View.extend({initialize:function(){function a(){c(b.el).slider("_resize")}var b=this,d=c(b.el).attr("data-viewNum"),e=c(b.el).attr("data-imgInit"),f=c(b.el).attr("data-imgZoom"),g=c(b.el).attr("data-loop"),h=c(b.el).attr("data-springBackDis"),i=c(b.el).attr("data-autoPlay"),j=c(b.el).attr("data-autoPlayTime"),l=c(b.el).attr("data-animationTime"),m=c(b.el).attr("data-showArr"),n=c(b.el).attr("data-showDot"),o=c(b.el).slider({viewNum:null===d?1:d,imgInit:null===e?2:e,imgZoom:null===f||"false"===f?!1:!0,loop:null===g||"true"===g?!0:!1,springBackDis:null===h?15:h,autoPlay:null===i||"true"===i?!0:!1,autoPlayTime:null===j?4e3:j,animationTime:null===l?400:l,showArr:null===m||"true"===m?!1:!1,showDot:null===n||"true"===n?!1:!1}),p=arguments[0].pagerEl;arguments[0].container,setTimeout(function(){c(b.el).slider("_resize")},0),c(window).on("resize",a),c(p.find("td")).css({"background-color":"#ffffff"}),c(p.find("td")).css({opacity:"0.3"}),c(p.find("td")[0]).css({"background-color":"#37c1f4"}),c(p.find("td")[0]).css({opacity:"1.0"}),o.on("slide",function(){var a=arguments[0].data;p.find("td").css({"background-color":"#ffffff"}),p.find("td").css({opacity:"0.3"}),c(p.find("td")[a]).css({"background-color":"#37c1f4"}),c(p.find("td")[a]).css({opacity:"1.0"})});var q=p.find("td").length;for(k=0;q>k;k++){var r=k;c(p.find("td")[r]).on("click",function(){c(b.el).slider("_move",c(this).index())})}}},{compile:function(a){return b.map(c(a).find("carousel"),function(a){var b=document.createElement("div"),e=c(a).css("width"),f=c(a).attr("id").length>0?c(a).attr("id"):"myCarousel";c(b).attr("id",f),c(b).attr("style","position:relative;top:0;left:0;width:"+e+";"+"overflow:hidden;");var g='<table  border="0" cellpadding="0" cellspacing="0" style="cursor:pointer;width:100%;height:3px;position:absolute;bottom:0px;"></tr>',h=c(a).children().length;for(j=0;h>j;j++)g+='<td style="font-size:5px">&nbsp;</td>';g+="</tr></table>";var k=c(g),l=a.attributes,m=document.createElement("div");for(i=0;i<l.length;i++)m.setAttribute(l[i].name,l[i].value);return c(m).css({width:"100%"}),c(m).append(c(a).children()),new d({el:m,pagerEl:k,container:b}),b.appendChild(m),c(b).append(k),c(a).replaceWith(b),b})}});return d}),define("components/dialog",["zepto","underscore"],function(a,b){function c(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1}function d(a){for(var b=h.length;b--;)if(a.keyCode===h[b])return c(a),void 0}function e(a){c(a)}function f(){window.addEventListener&&(window.addEventListener("DOMMouseScroll",e,!1),window.addEventListener("touchmove",e,!1),window.onmousewheel=document.onmousewheel=e,document.onkeydown=d)}function g(){window.removeEventListener&&(window.removeEventListener("DOMMouseScroll",e,!1),window.removeEventListener("touchmove",e,!1)),window.onmousewheel=document.onmousewheel=document.onkeydown=null}var h=[37,38,39,40],i=function(a,c){var d=this;this.config={autoshow:!0,target:"body",title:"",content:""},this.btnConfigs={configs:[{title:""}]},a&&(this.config=b.extend(this.config,a),this.btnConfigs=b.extend(this.btnConfigs,c)),window.onresize=function(){d.calculatePosition()},this.config.autoshow&&!this.isShow()&&(this.show(),a.disableScroll&&f())},j='<div id="cube-dialog-wrapper"><div class="cube-dialog ui-corner-all" style="z-index: 500;min-width:260px; position: fixed; height:auto;"><div style="margin-bottom: 4px;" class="ui-header ui-bar-b"><div class="ui-title cube-dialog-header" style="padding-top:10px"></div></div><div><p class="cube-dialog-subtitle"></p><div class="cube-dialog-controls"></div></div></div><div class="cube-dialog-screen cube-dialog-screen-model" style="z-index: 1000; display: block; "></div>',k='<button class="btn cube-dialog-btn ui-shadow ui-btn-corner-all ui-btn-icon-left" eventname="abcd"><span class="ui-btn-inner ui-btn-corner-all"><span class="cube-dialog-btn-title ui-btn-text"></span><span class="ui-icon ui-icon-check ui-icon-shadow">&nbsp;</span></span></button>';return i.prototype.isShow=function(){var a=document.getElementById("cube-dialog-wrapper");return a?!0:!1},i.prototype.show=function(){var b=a(this.config.target);a(b).append(j),a(".cube-dialog-header").html(this.config.title),a(".cube-dialog-subtitle").html(this.config.content);var c=a(".cube-dialog");c&&(this.calculatePosition(),this.initBtn(c))},i.prototype.calculatePosition=function(){var b=document.getElementsByTagName("body")[0].scrollHeight;a(".cube-dialog-screen").css("height",b);var c=a(this.config.target),d=a(".cube-dialog"),e=parseInt(c.width()),f=(parseInt(c.css("height")),parseInt(d.css("width"))),g=document.documentElement.clientHeight;if(a.browsers&&a.browser.msie){var h=a(".cube-dialog-screen")[0];a(h).height(g)}var i=d.height()+42;d.css("top","50%"),d.css("margin-top","-"+i/2+"px");var j=(e-f)/2-5;d.css("left",j+"px"),d.css("width",f+"px")},i.prototype.initBtn=function(b){var c=this,d=a(".cube-dialog-controls"),e=a(b).css("width");if(d){for(var f=0;f<this.btnConfigs.configs.length;f++)d.append(k);for(var g=a(".cube-dialog-btn"),h=(parseInt(e)-10*(g.length-1)-20*g.length)/g.length,i=a(".cube-dialog-btn-title"),f=0;f<g.length;f++){var j=a(g[f]),l=this.btnConfigs;a(i[f]).html(this.btnConfigs.configs[f].title),j.attr({eventname:this.btnConfigs.configs[f].eventName}),j.css("padding","4px 0px"),j.css("width",h+"px"),j.css("margin-left","10px"),j.css("margin-right","10px"),j.css("margin-bottom","10px"),j.bind("click",function(){c.hide(),a(this).attr("eventname")&&l[a(this).attr("eventname")]()}),a(b).append(j)}}},i.prototype.hide=function(){var b=this.find();b&&(a(b).remove(),g())},i.prototype.find=function(){var b,c=a(this.config.target),d=c.children();return a(d).each(function(){"cube-dialog-wrapper"==a(this).attr("id")&&(b=this)}),b},i}),define("components/form",["zepto","underscore","components/cache","components/loader"],function(a,b,c,d){var e=function(c){this.config={},this.config=b.extend(this.config,c),this.requestParams={},this.jqObject=a("#"+c.id),this.parseConfig(a("#"+c.id))};return e.prototype.serialize=function(){return this.jqObject?a(this.jqObject).serialize():void 0},e.prototype.serializeArray=function(){return this.jqObject?a(this.jqObject).serializeArray():void 0},e.prototype.setRequestParams=function(a){this.requestParams=b.extend(this.requestParams,a),this.loadPage()},e.prototype.loadPage=function(){var c=new d({text:"..."}),e=this,f=this.config._itemTemplate;a.ajax({block:!0,url:e.config.url,type:"GET",data:e.requestParams,dataType:"json",success:function(d,g){c.hide(),console.log(""+g+" response:["+d+"]");var h=d;b.each(e.config.jsonRoot.split("."),function(a){h=h[a]});var i=a("#"+f).html();a(document.getElementById(e.config.id)).append(b.template(i,h))},error:function(a,b,d){c.hide(),console.error(""+a+"/"+d+"/"+b)}})},e.prototype.parseConfig=function(c){var d=this,e=a(c);this.config.id=e.attr("id"),this.config.itemTemplate=e.attr("itemTemplate"),this.config.url=e.attr("url"),this.config.jsonRoot=e.attr("jsonRoot"),e.children().each(function(a,c){var e=d[c.tagName.toLowerCase()+"TagHandler"];b.isFunction(e)&&e.apply(d,[c])})},e}),define("components/oldloader",["zepto"],function(a){function b(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1}function c(a){for(var c=g.length;c--;)if(a.keyCode===g[c])return b(a),void 0}function d(a){b(a)}function e(){window.addEventListener&&(window.addEventListener("DOMMouseScroll",d,!1),window.addEventListener("touchmove",d,!1),window.onmousewheel=document.onmousewheel=d,document.onkeydown=c)}function f(){window.removeEventListener&&(window.removeEventListener("DOMMouseScroll",d,!1),window.removeEventListener("touchmove",d,!1)),window.onmousewheel=document.onmousewheel=document.onkeydown=null}var g=[37,38,39,40],h=function(b){this.config={autoshow:!0,target:"body",text:"..."},b&&(this.config=a.extend(this.config,b)),this.config.autoshow&&this.show()};return h.prototype.show=function(){e();var b=a(this.config.target),c=this.find();if(!c){c=a("<div/>").addClass("cube-loader");var d=a("<div/>").addClass("cube-loader-block"),f=a("<div/>").addClass("cube-loader-icon"),g=a("<p/>").append(this.config.text);d.append(f),d.append(g),c.append(d);var h=a(this.config.target).children();h&&h.length>0?h.first().before(c):a(b).append(c)}},h.prototype.hide=function(){f();var b=this.find();b&&a(b).remove()},h.prototype.hideAll=function(){f();var b=a(".cube-loader");b&&b.length>0&&a(b).each(function(){a(this).remove()})},h.prototype.find=function(){var b,c=a(this.config.target),d=c.children();return a(d).each(function(){a(this).hasClass("cube-loader")&&(b=this)}),b},h}),define("date",["jquery","mdatepicker"],function(a){a("date").each(function(){for(var b,c=a(this),d={preset:"date",lang:"zh",dateOrder:"yymmdd D",theme:"android-ics light",maxDate:new Date(2015,12,31,59,50)},e=this.attributes,f=e.length,g=0;f>g;g++)b=e[g],b.specified&&(d[b.name]=b.value);d.name||(d.name=d.id);var h=a("<input  />").attr("id",d.id).attr("name",d.name);h.appendTo(c.parent()),c.remove(),a(h).scroller("destroy").scroller(d)})}),define("components/date",function(){}),function(){var a=Math,b=function(a){return a>>0},c=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",d=(/android/gi.test(navigator.appVersion),/iphone|ipad/gi.test(navigator.appVersion)),e=/playbook/gi.test(navigator.appVersion),f=/hp-tablet/gi.test(navigator.appVersion),g="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,h="ontouchstart"in window&&!f,i=c+"Transform"in document.documentElement.style,j=d||e,k=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),l=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),m="onorientationchange"in window?"orientationchange":"resize",n=h?"touchstart":"mousedown",o=h?"touchmove":"mousemove",p=h?"touchend":"mouseup",q=h?"touchcancel":"mouseup",r="translate"+(g?"3d(":"("),s=g?",0)":")",t=function(a,b){var d,e=this,f=document;e.wrapper="object"==typeof a?a:f.getElementById(a),e.wrapper.style.overflow="hidden",e.scroller=e.wrapper.children[0],e.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(d in b)e.options[d]=b[d];e.x=e.options.x,e.y=e.options.y,e.options.useTransform=i?e.options.useTransform:!1,e.options.hScrollbar=e.options.hScroll&&e.options.hScrollbar,e.options.vScrollbar=e.options.vScroll&&e.options.vScrollbar,e.options.useTransition=j&&e.options.useTransition,e.scroller.style[c+"TransitionProperty"]=e.options.useTransform?"-"+c.toLowerCase()+"-transform":"top left",e.scroller.style[c+"TransitionDuration"]="0",e.scroller.style[c+"TransformOrigin"]="0 0",e.options.useTransition&&(e.scroller.style[c+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),e.options.useTransform?e.scroller.style[c+"Transform"]=r+e.x+"px,"+e.y+"px"+s:e.scroller.style.cssText+=";position:absolute;top:"+e.y+"px;left:"+e.x+"px",e.refresh(),e._bind(m,window),e._bind(n),h||e._bind("mouseout",e.wrapper)};t.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(a){var b=this;switch(a.type){case n:if(!h&&0!==a.button)return;b._start(a);break;case o:b._move(a);break;case p:case q:b._end(a);break;case m:b._resize();break;case"mouseout":b._mouseout(a);break;case"webkitTransitionEnd":b._transitionEnd(a)}},_resize:function(){this.refresh()},_pos:function(a,d){a=this.hScroll?a:0,d=this.vScroll?d:0,this.options.useTransform?this.scroller.style[c+"Transform"]=r+a+"px,"+d+"px"+s+" scale("+this.scale+")":(a=b(a),d=b(d),this.scroller.style.left=a+"px",this.scroller.style.top=d+"px"),this.x=a,this.y=d},_start:function(a){var b,d,e,f=this,g=h?a.touches[0]:a;f.enabled&&(f.options.onBeforeScrollStart&&f.options.onBeforeScrollStart.call(f,a),f.options.useTransition&&f._transitionTime(0),f.moved=!1,f.animating=!1,f.zoomed=!1,f.distX=0,f.distY=0,f.absDistX=0,f.absDistY=0,f.dirX=0,f.dirY=0,f.options.momentum&&(f.options.useTransform?(b=getComputedStyle(f.scroller,null)[c+"Transform"].replace(/[^0-9-.,]/g,"").split(","),d=1*b[4],e=1*b[5]):(d=1*getComputedStyle(f.scroller,null).left.replace(/[^0-9-]/g,""),e=1*getComputedStyle(f.scroller,null).top.replace(/[^0-9-]/g,"")),(d!=f.x||e!=f.y)&&(f.options.useTransition?f._unbind("webkitTransitionEnd"):l(f.aniTime),f.steps=[],f._pos(d,e))),f.startX=f.x,f.startY=f.y,f.pointX=g.pageX,f.pointY=g.pageY,f.startTime=a.timeStamp||Date.now(),f.options.onScrollStart&&f.options.onScrollStart.call(f,a),f._bind(o),f._bind(p),f._bind(q))},_move:function(b){var c=this,d=h?b.touches[0]:b,e=d.pageX-c.pointX,f=d.pageY-c.pointY,g=c.x+e,i=c.y+f,j=b.timeStamp||Date.now();c.options.onBeforeScrollMove&&c.options.onBeforeScrollMove.call(c,b),c.pointX=d.pageX,c.pointY=d.pageY,(g>0||g<c.maxScrollX)&&(g=c.options.bounce?c.x+e/2:g>=0||c.maxScrollX>=0?0:c.maxScrollX),(i>0||i<c.maxScrollY)&&(i=c.options.bounce?c.y+f/2:i>=0||c.maxScrollY>=0?0:c.maxScrollY),c.distX+=e,c.distY+=f,c.absDistX=a.abs(c.distX),c.absDistY=a.abs(c.distY),c.absDistX<6&&c.absDistY<6||(c.options.lockDirection&&(c.absDistX>c.absDistY+5?(i=c.y,f=0):c.absDistY>c.absDistX+5&&(g=c.x,e=0)),c.moved=!0,c._pos(g,i),c.dirX=e>0?-1:0>e?1:0,c.dirY=f>0?-1:0>f?1:0,j-c.startTime>300&&(c.startTime=j,c.startX=c.x,c.startY=c.y),c.options.onScrollMove&&c.options.onScrollMove.call(c,b))},_end:function(c){if(!h||0==c.touches.length){var d,e,f,g=this,i=h?c.changedTouches[0]:c,j={dist:0,time:0},k={dist:0,time:0},l=(c.timeStamp||Date.now())-g.startTime,m=g.x,n=g.y;if(g._unbind(o),g._unbind(p),g._unbind(q),g.options.onBeforeScrollEnd&&g.options.onBeforeScrollEnd.call(g,c),!g.moved){if(h){for(d=i.target;1!=d.nodeType;)d=d.parentNode;"SELECT"!=d.tagName&&"INPUT"!=d.tagName&&"TEXTAREA"!=d.tagName&&(e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,c.view,1,i.screenX,i.screenY,i.clientX,i.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),e._fake=!0,d.dispatchEvent(e))}return g._resetPos(200),g.options.onTouchEnd&&g.options.onTouchEnd.call(g,c),void 0}return 300>l&&g.options.momentum&&(j=m?g._momentum(m-g.startX,l,-g.x,g.scrollerW-g.wrapperW+g.x,g.options.bounce?g.wrapperW:0):j,k=n?g._momentum(n-g.startY,l,-g.y,g.maxScrollY<0?g.scrollerH-g.wrapperH+g.y:0,g.options.bounce?g.wrapperH:0):k,m=g.x+j.dist,n=g.y+k.dist,(g.x>0&&m>0||g.x<g.maxScrollX&&m<g.maxScrollX)&&(j={dist:0,time:0}),(g.y>0&&n>0||g.y<g.maxScrollY&&n<g.maxScrollY)&&(k={dist:0,time:0})),j.dist||k.dist?(f=a.max(a.max(j.time,k.time),10),g.scrollTo(b(m),b(n),f),g.options.onTouchEnd&&g.options.onTouchEnd.call(g,c),void 0):(g._resetPos(200),g.options.onTouchEnd&&g.options.onTouchEnd.call(g,c),void 0)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=0||b.maxScrollY>0?0:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?(b.moved&&(b.options.onScrollEnd&&b.options.onScrollEnd.call(b),b.moved=!1),void 0):(b.scrollTo(c,d,a||0),void 0)},_mouseout:function(a){var b=a.relatedTarget;if(!b)return this._end(a),void 0;for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind("webkitTransitionEnd"),b._startAni())},_startAni:function(){var b,c,d,e=this,f=e.x,g=e.y,h=Date.now();if(!e.animating)return e.steps.length?(b=e.steps.shift(),b.x==f&&b.y==g&&(b.time=0),e.animating=!0,e.moved=!0,e.options.useTransition?(e._transitionTime(b.time),e._pos(b.x,b.y),e.animating=!1,b.time?e._bind("webkitTransitionEnd"):e._resetPos(0),void 0):(d=function(){var i,j,l=Date.now();return l>=h+b.time?(e._pos(b.x,b.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),e._startAni(),void 0):(l=(l-h)/b.time-1,c=a.sqrt(1-l*l),i=(b.x-f)*c+f,j=(b.y-g)*c+g,e._pos(i,j),e.animating&&(e.aniTime=k(d)),void 0)},d(),void 0)):(e._resetPos(400),void 0)},_transitionTime:function(a){this.scroller.style[c+"TransitionDuration"]=a+"ms"},_momentum:function(c,d,e,f,g){var h=6e-4,i=a.abs(c)/d,j=i*i/(2*h),k=0,l=0;return c>0&&j>e?(l=g/(6/(j/i*h)),e+=l,i=i*e/j,j=e):0>c&&j>f&&(l=g/(6/(j/i*h)),f+=l,i=i*f/j,j=f),j*=0>c?-1:1,k=i/h,{dist:j,time:b(k)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var a=this;a.scroller.style[c+"Transform"]="",a._unbind(m,window),a._unbind(n),a._unbind(o),a._unbind(p),a._unbind(q),a._unbind("mouseout",a.wrapper),a.options.useTransition&&a._unbind("webkitTransitionEnd"),a.options.onDestroy&&a.options.onDestroy.call(a)},refresh:function(){var a,b=this;b.wrapperW=b.wrapper.clientWidth,b.wrapperH=b.wrapper.clientHeight,b.scrollerW=b.scroller.offsetWidth,b.scrollerH=b.scroller.offsetHeight,b.maxScrollX=b.wrapperW-b.scrollerW,b.maxScrollY=b.wrapperH-b.scrollerH,b.dirX=0,b.dirY=0,b.hScroll=b.options.hScroll&&b.maxScrollX<0,b.vScroll=b.options.vScroll&&(!b.options.bounceLock&&!b.hScroll||b.scrollerH>b.wrapperH),a=b._offset(b.wrapper),b.wrapperOffsetLeft=-a.left,b.wrapperOffsetTop=-a.top,b.scroller.style[c+"TransitionDuration"]="0",b._resetPos(200)},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(b,c){var d,e=this;b=b.nodeType?b:e.scroller.querySelector(b),b&&(d=e._offset(b),d.left+=e.wrapperOffsetLeft,d.top+=e.wrapperOffsetTop,d.left=d.left>0?0:d.left<e.maxScrollX?e.maxScrollX:d.left,d.top=d.top>0?0:d.top<e.maxScrollY?e.maxScrollY:d.top,c=void 0===c?a.max(2*a.abs(d.left),2*a.abs(d.top)):c,e.scrollTo(d.left,d.top,c))},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(o),this._unbind(p),this._unbind(q)},enable:function(){this.enabled=!0},stop:function(){l(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1}},"undefined"!=typeof exports?exports.iScroll=t:window.iScroll=t}(),define("iScroll",function(a){return function(){var b;return b||a.iScroll}}(this)),define("components/store",["zepto"],function(){var a=function(){};return a.saveObject=function(a,b){window.localStorage[a]=JSON.stringify(b)},a.loadObject=function(a){var b=window.localStorage[a];return null==b?null:JSON.parse(b)},a.deleteObject=function(a){window.localStorage[a]=null},a.clear=function(){window.localStorage.clear()},a}),define("components/list",["zepto","underscore","components/loader","components/cache","components/store","iScroll","backbone"],function(a,b,c,d,e,f,g){var h=g.View.extend({tagName:"div",elContext:document,events:{"click .cube-list-item":"onItemSelect"},requestParams:{},config:{observers:[],width:"100%",height:"500",autoLoad:"true",pageParam:"page",pageSizeParam:"pageSize",topOffset:40,page:1,pageSize:10,pullDownEnable:!1,isPullDownRefresh:!1,pagingEnable:!0,iScroll:!1,method:"GET",filterStr:null,momentum:!0},request:null,initialize:function(){var b=this;if(arguments&&arguments.length>0){var c,g=arguments[0];for(c in g)c in this&&(this[c]=g[c]);var h={};for(var i in this.config)h[i]=this.config[i];for(var j in g)h[j]=g[j];this.config=h}if("false"!=this.config.iScroll){var k=!0,l=new f(this.el,{onBeforeScrollStart:function(a){for(var b=a.target;1!=b.nodeType;)b=b.parentNode;"TEXTAREA"!=b.tagName&&"INPUT"!=b.tagName&&"SELECT"!=b.tagName&&a.preventDefault()},topOffset:g.topOffset,useTransition:!0,onRefresh:function(){pullUpEl=b.$("#pullUp")[0],null!=pullUpEl&&(pullUpOffset=pullUpEl.offsetHeight,pullUpEl.className.match("loading")&&(pullUpEl.className="",pullUpEl.querySelector(".pullUpLabel").innerHTML="Pull up to load more..."))},onScrollMove:function(){if(k=!1,d.put("onScrollMove","true"),pullUpEl=b.$("#pullUp")[0],null!=pullUpEl){pullUpOffset=pullUpEl.offsetHeight;var c=5;this.y<this.maxScrollY-c&&!pullUpEl.className.match("flip")?(pullUpEl.className="flip",pullUpEl.querySelector(".pullUpLabel").innerHTML="Release to refresh..."):this.y>this.maxScrollY+c&&pullUpEl.className.match("flip")&&(pullUpEl.className="",pullUpEl.querySelector(".pullUpLabel").innerHTML="Pull up to load more...")}var e=40;pullDownRefreshEl=b.$("#PullDownRefresh")[0],pullDownRefreshEl&&(this.y>e&&this.options.topOffset>0?(this.options.topOffset=0,a(pullDownRefreshEl).find("#pullDownRefreshIcon").attr({"class":"pullDownIn"}),a(pullDownRefreshEl).find("#pullDownRefreshLable").text("Release to reload..."),a(b.$("#pullDownRefreshIconWarp")[0]).addClass("pullDownFlip180")):this.y<e&&0==this.options.topOffset?(this.options.topOffset=parseInt(a(pullDownRefreshEl).css("height")),a(pullDownRefreshEl).find("#pullDownRefreshIcon").removeClass("pullDownOut").addClass("pullDownIn"),a(pullDownRefreshEl).find("#pullDownRefreshLable").text("Pull down to reload..."),d.put("onScrollMove","false"),a(b.$("#pullDownRefreshIconWarp")[0]).removeClass("pullDownFlip180")):this.y>0&&d.put("onScrollMove","false"))},onBeforeScrollEnd:function(){pullDownRefreshEl=b.$("#PullDownRefresh")[0],null!=pullDownRefreshEl&&0==this.options.topOffset&&(a(pullDownRefreshEl).find("#pullDownRefreshIcon").removeClass("pullDownIn").addClass("pullDownOut"),a(pullDownRefreshEl).find("#pullDownRefreshLable").text("Reloading..."),this.refresh())},onScrollEnd:function(){pullUpEl=b.$("#pullUp")[0];var c="cube-list-"+b.config.id;if(k||(e.saveObject(c+"-scrollY",b.iScroll.y),k=!0),null!=pullUpEl&&pullUpEl.className.match("flip")&&(pullUpEl.className="loading",pullUpEl.querySelector(".pullUpLabel").innerHTML="Loading...",b.config.page=b.config.page+1,b.loadNextPage(),d.put("onScrollMove","false")),b.resetPullDownPos(),pullDownRefreshEl=b.$("#PullDownRefresh")[0],null!=pullDownRefreshEl&&0==this.options.topOffset){var f=this;a(pullDownRefreshEl).find("#pullDownRefreshIcon").attr({"class":"pullDownOut"}),b.resetPullDownPos(),b.reload(function(){d.put("onScrollMove","false"),a(pullDownRefreshEl).find("#pullDownRefreshLable").text("Pull down to refresh..."),f.options.topOffset=parseInt(a(pullDownRefreshEl).css("height")),a(pullDownRefreshEl).find("#pullDownRefreshIcon").attr({"class":"pullDownIn"}),a(b.$("#pullDownRefreshIconWarp")[0]).removeClass("pullDownFlip180"),f.refresh()})}}});this.iScroll=l;var b=this;setTimeout(function(){b.config.listSizeFix({iScroll:b.iScroll})},300)}"true"==this.config.autoLoad&&this.reload()},onItemSelect:function(a){if("true"==d.get("onScrollMove"))return d.put("onScrollMove","false"),void 0;var b=a.currentTarget,c=null,e=b.getAttribute("index"),f="cube-list-"+this.config.id;if(d.get(f)){var g=d.get(f);c=g[e]}var h=null!=a.toElement?a.toElement.nodeName:a.target.nodeName;this.shouldPreventListEvent(h)&&(this.trigger("List:select",this,c,e),this.trigger("select",this,{data:c,index:e,event:a}))},render:function(){return this.reload(),this},reload:function(a){this.cleanStoreListData(),this.config.page=1,this.loadNextPage(a)},setRequestParams:function(a,c){this.requestParams=b.extend(this.requestParams,a),(void 0===c||null===c||c===!0)&&this.reload()},filterChildren:function(a){var b=this.$(".contentScroller");a?(b.find("li[filter-keyword]").hide(),this.$("#"+this.config.id+' li[filter-keyword*="'+a.toLowerCase()+'"]').show()):b.find("li[filter-keyword]").show(),"false"!=this.config.iScroll&&this.iScroll.refresh()},refreshIscroll:function(){"false"!=this.config.iScroll&&this.iScroll.refresh()},shouldPreventListEvent:function(a){return"TEXTAREA"!=a&&"INPUT"!=a&&"SELECT"!=a?!0:!1},loadListByJSONArray:function(c,e){var f=this;if(1==f.config.page&&f.clearList(),void 0!==c&&null!==c&&0!==c.length){var g=c,h="cube-list-"+f.config.id;if(d.get(h)&&f.config.page>1){var i=d.get(h);g=i.concat(c)}d.put(h,g);var j,k,l=this.config._itemTemplate,m=this.config.paging;l&&(k=a(this.elContext).find("#"+l).html()),f.config.searchkeys&&(j=f.config.searchkeys.split(","));for(var n=0;n<c.length;n++){var o=c[n];o.index=n;var p=a("<li/>");if(p.addClass("cube-list-item"),p.attr("index",(f.config.page-1)*f.config.pageSize+n),j){for(var q="",r=0;r<j.length-1;r++)c[n][j[r]]&&(q=q+c[n][j[r]]+" ");c[n][j[j.length-1]]&&(q+=c[n][j[j.length-1]]),p.attr("filter-keyword",q.toLowerCase())}e||f.StoreListData(o),l&&p.append(b.template(k,o)),p.appendTo(f.el.querySelector(".contentScroller"))}var s=this.el.querySelector(".cube-list-item-more");if(s&&this.$(s).remove(),"true"==m&&c.length>=f.config.pageSize){var t=a("<li/>");t.addClass("cube-list-item-more"),t.appendTo(f.el.querySelector(".contentScroller"));var u="<li class='' id='pullUp'><span class='pullUpIcon'></span><span class='pullUpLabel'>Pull up to load more...</span></li>",v=a(u);t.append(v)}else if(void 0!==m){var p=a("<li/>");p.addClass("cube-list-item-more-record"),p.html(""),a("#pullUp").remove(),p.appendTo(f.el.querySelector(".contentScroller"))}f.trigger("drawed",f,c),"false"!=f.config.iScroll&&(a(window).trigger("resize"),f.iScroll.refresh())}else if(0===f.$(".cube-list-item-more-record").length){var p=a("<li/>");p.addClass("cube-list-item-more-record"),p.html(""),p.appendTo(f.el.querySelector(".contentScroller")),a("#pullUp").remove(),console.log("cube---list---list: ")}},StoreListData:function(a){var b="cube-list-"+this.config.id,c=this.config;c.el=null,c.elContext=null,c.elContext=null,e.saveObject(b+"-config",c),e.saveObject(b+"-params",this.requestParams);var d=[];null===e.loadObject(b)?(d.push(a),e.saveObject(b,d)):(d=e.loadObject(b),d.push(a),e.saveObject(b,d))
},isExistStoreData:function(a){return void 0===window.localStorage["cube-list-"+a]||null===window.localStorage["cube-list-"+a]?!1:!0},loadListByStoreData:function(c,d){console.log("cube-list---list---store");var f="cube-list-"+this.config.id,g=e.loadObject(f),h=e.loadObject(f+"-config");this.config=b.extend(this.config,h),c&&(this.config.url=c);var i=e.loadObject(f+"-params");d?(d=b.extend(d,i),this.requestParams=b.extend(this.requestParams,d)):this.requestParams=b.extend(this.requestParams,i),console.info(this.requestParams),this.loadListByJSONArray(g,!0);var j=e.loadObject(f+"-scrollY");a(this.iScroll.scroller).css({"-webkit-transform":"translate(0px, "+j+"px)",transform:"translate(0px, "+j+"px)"}),this.resetPullDownPos(j),this.iScroll.refresh()},cleanStoreListData:function(){var a="cube-list-"+this.config.id;e.deleteObject(a),e.deleteObject(a+"-config"),e.deleteObject(a+"-params"),e.deleteObject(a+"-scrollY")},clearList:function(){var a=this.$(".contentScroller");1==this.config.page&&a.find("li").not("#PullDownRefresh").remove()},resetPullDownPos:function(b){if(0>b&&(b=-b),null!==this.iScroll){if(b>=40)return;this.iScroll.y<=40&&this.iScroll.y>=0&&a(this.iScroll.scroller).css({"-webkit-transform":"translate(0px, -40px)",transform:"translate(0px, -40px)"})}},loadNextPage:function(d){console.log("cube---list---list:load  begin");var e,f=this;f.requestParams[f.config.pageParam]=this.config.page,f.requestParams.pageSize=this.config.pageSize;var g=this.config._itemTemplate;f.config.url&&(e=f.config.loaderText?new c({text:f.config.loaderText}):new c({text:"..."}),a.ajax({block:!0,timeout:2e4,traditional:!0,url:f.config.url,type:f.config.method,data:f.requestParams,dataType:"json",beforeSend:function(a){console.log("cube---list---list: request data..."),f.request&&f.request.abort(),f.request=a},complete:function(){f.request=null,f.refreshIscroll(f),d&&d()},success:function(a,c){console.log("cube---list---"+c+" response:["+a+"]"),f.trigger("load",f,a);var d=a;f.config.jsonRoot&&b.each(f.config.jsonRoot.split("."),function(a){d=d[a]});var h;g&&(h=this.$("#"+g).html()),f.loadListByJSONArray(d),f.config.filterStr&&f.filterChildren(f.config.filterStr),f.trigger("loaded",f,a),e.hide(),console.log("cube---list---list:load and draw  end"),f.resetPullDownPos()},error:function(a,b,c){f.config.page=f.config.page-1,console.error("cube---list---"+a+"/"+c+"/"+b),e.hide()}}))}},{parseConfig:function(b,c){for(var d=a(b),e={},f=0;f<c.length;f++){var g=c[f],h=d.attr(g);h&&(e[g]=h)}return e},compile:function(c){var e=this;return b.map(a(c).find("list"),function(b){function f(b){var c=a(window).height(),d=a(k).offset().top,e=c-d;g.height&&(e=g.height),g.additionHeight&&(e+=parseInt(g.additionHeight)),b&&b.iScroll&&(b.iScroll.wrapperH=e,b.iScroll.maxScrollY=-1*(b.iScroll.scrollerH-e-b.iScroll.y)),a("html").css({"min-height":d}),a("body").find(k).css({height:e+"px"}),a(".cube-list-item-more-record").css({"border-bottom":"0px"})}console.log("cube---list---list:compile");var g=e.parseConfig(b,["id","itemTemplate","_itemTemplate","moreItemElement","url","method","jsonRoot","class","paging","iScroll","isPullDownRefresh","autoLoad","pageParam","searching","searchkeys","filterStr","pageSize","skin","loaderText","searchText","width","height","additionHeight"]),i=document.createElement("div");i.setAttribute("id",g.id),i.setAttribute("data-component","list"),g.skin?i.setAttribute("class","cube-list-"+g.skin):i.setAttribute("class","cube-list-nostyle"),this.$(i).css("height","100%");var j=document.createElement("ul");this.$(j).addClass("contentScroller"),i.appendChild(j);var k=document.createElement("div");g.height?a(k).attr("style","height:"+g.height+"px;"):a(k).attr("style","height:600px;");var l;"true"==g.isPullDownRefresh&&(l=document.createElement("li"),a(l).attr("id","PullDownRefresh"),a(l).attr("style","height: 40px;"),a(l).append('<span id="pullDownRefreshIconWarp"><span id="pullDownRefreshIcon"></span></span><span id="pullDownRefreshLable">Pull down to refresh...</span>')),a(i).wrap(k),a(i).find("div ul").prepend(l),this.$(b).replaceWith(k),g.el=i;var m=parseInt(a(l).css("height"));g.topOffset=m?m:0,g.elContext=c,g.listSizeFix=f;var n=new h(g);d.put(g.id+"Onload",0);var o=setInterval(function(){a("body").find(k).length>0&&f();var b=parseInt(d.get(g.id+"Onload"))+1;1==b&&(a(window).on("resize",f),a(k).unload(function(){a(window).off("resize",f)})),b>1&&0==a("body").find(k).length?(clearInterval(o),console.log("cube---list---end")):d.put(g.id+"Onload",b)},500);return n})}});return h}),define("components/extendable-list",["zepto","underscore","components/loader","components/cache","iScroll","backbone","components/list"],function(a,b,c,d,e,f,g){var h,i=g.extend({tagName:"div",events:{"click .cube-list-item":"onItemSelect"},requestParams:{},config:{observers:[],autoLoad:"true",pageParam:"page",pageSizeParam:"pageSize",page:1,pageSize:10,pullDownEnable:!1,pagingEnable:!0,iScroll:!1,method:"GET",extendable:!1,extendRoot:"",filterStr:null},request:null,onItemSelect:function(c){var e=this,f=c.currentTarget,g=null,h=f.getAttribute("index"),i="cube-list-"+this.config.id;if(d.get(i)){var j=d.get(i),g=j[h];e.config.extendRoot&&b.each(e.config.extendRoot.split("."),function(a){g=g[a]})}var k=this.$(".cube-extend-view")[h];"none"==a(k).css("display")?(a.each(this.$(".extended"),function(){a(this).removeClass("extended"),a(this).hide()}),a(k).addClass("extended"),a(k).show()):(a(k).removeClass("extended"),a(k).hide()),console.log("on extend:"+h),this.iScroll&&this.iScroll.refresh(),this.trigger("ExtendableList:extend",this,g,h)},loadListByJSONArray:function(c){var e=this;e.clearList();var f=c,g="cube-list-"+e.config.id;if(d.get(g)&&e.config.page>1){var i=d.get(g);f=i.concat(c)}d.put(g,f);var j,k=this.config._itemTemplate,l=this.config._extendableTemplate,m=this.config.moreItemElement,n=this.config.paging;k&&(j=a("#"+k).html()),l&&(extendTemplateStr=a("#"+l).html());for(var o=0;o<c.length;o++){var p=c[o];p.index=o;var q=a("<li/>");q.addClass("cube-list-item");var r=a("<li/>");r.addClass("cube-extend-view"),q.attr("index",(e.config.page-1)*e.config.pageSize+o),k&&q.append(b.template(j,p));var s=p;e.config.extendRoot&&b.each(e.config.extendRoot.split("."),function(a){s=s[a]});for(var t=0;t<s.length;t++)l&&r.append(b.template(extendTemplateStr,s[t]));var u=a(h.querySelector("#"+e.id)).find(".contentScroller").find(".item-content");q.appendTo(u),r.appendTo(u),r.css("display","none")}if(this.$("#"+e.config.id+"-more")&&this.$("#"+e.config.id+"-more").remove(),"true"==n&&e.config.pageSize==c.length){var v=a("<li/>");if(v.addClass("cube-list-item-more"),v.attr("id",e.config.id+"-more"),v.appendTo(a(h.querySelector("#"+e.id)).find(".contentScroller")),null!=m)this.$("#"+m).template(m),v.append(a.tmpl(m,null));else{var w=a("<div>...</div>");v.append(w)}v.click(function(){e.loadNextPage()})}e.trigger("drawed",e,c),"false"!=e.config.iScroll&&e.iScroll.refresh()},loadNextPage:function(){console.log("extendablelist:load  begin");var d=this;if(d.requestParams[d.config.pageParam]=this.config.page,d.requestParams.pageSize=this.config.pageSize,this.config._itemTemplate,this.config._extendableTemplate,d.config.url){var e=new c({text:"..."});a.ajax({block:!0,timeout:2e4,traditional:!0,url:d.config.url,type:d.config.method,data:d.requestParams,dataType:"json",beforeSend:function(a){console.log("extendablelist component request data..."),d.request&&d.request.abort(),d.request=a},complete:function(){d.request=null},success:function(a,c){console.log(""+c+" response:["+a+"]"),d.trigger("load",d,a);var f=a;d.config.jsonRoot&&b.each(d.config.jsonRoot.split("."),function(a){f=f[a]}),console.log(f.length+" records in total"),d.loadListByJSONArray(f),"false"!=d.config.iScroll&&d.iScroll.refresh(),d.config.filterStr&&d.filterChildren(d.config.filterStr),d.config.page=d.config.page+1,d.trigger("loaded",d,a),e.hide(),console.log("extendablelist:load and draw  end")},error:function(a,b,c){console.error(""+a+"/"+c+"/"+b),e.hide()}})}}},{compile:function(c){var e=this;return b.map(a(c).find("extendablelist"),function(b){function f(){var b=a(window).height(),c=a(j).offset().top,d=b-c;g.height&&(d=g.height),g.additionHeight&&(d+=parseInt(g.additionHeight)),a("html").css({"min-height":c}),a("body").find(j).css({height:d+"px"}),a(".cube-list-item-more-record").css({"border-bottom":"0px"})}console.log("extendablelist:compile  begin");var g=e.parseConfig(b,["id","itemTemplate","_itemTemplate","moreItemElement","url","method","jsonRoot","class","paging","iScroll","autoLoad","pageParam","searching","searchkeys","filterStr","pageSize","_extendableTemplate","extendRoot","skin"]),j=document.createElement("div");j.setAttribute("id",g.id),j.setAttribute("data-component","extendablelist"),g.skin?j.setAttribute("class","cube-list-"+g.skin):j.setAttribute("class","cube-list-nostyle"),this.$(j).css("height","100%");var k=document.createElement("ul");this.$(k).addClass("contentScroller"),j.appendChild(k);var l=document.createElement("div");this.$(l).addClass("item-content"),k.appendChild(l),this.$(b).replaceWith(j),g.el=j,h=c;var m=new i(g);console.log("extendablelist:compile  end"),d.put(g.id+"Onload",0);var n=setInterval(function(){a("body").find(j).length>0&&f();var b=parseInt(d.get(g.id+"Onload"))+1;1==b&&(a(window).on("resize",f),a(j).unload(function(){a(window).off("resize",f)})),b>1&&0==a("body").find(j).length?(clearInterval(n),console.log("enddddd")):d.put(g.id+"Onload",b)},500);return m})}});return i}),define("components/i18n",[],function(){return{setLocale:function(a){window.localStorage.lang=a,requirejs.config({config:{i18n:{locale:window.localStorage.lang}}})},getLocale:function(){return window.localStorage.lang},setLocaleAndReload:function(a){this.setLocale(a),window.location.reload()}}}),define("components/module-panel",["zepto","backbone","iScroll"],function(a,b,c){var d=b.View.extend({initialize:function(){},render:function(a){this.loadRelatedModuleInfo(a)},loadRelatedModuleInfo:function(b){a(".cube-panel").length>0&&(console.info(""),a(".cube-panel").remove(),a(".cube-panel-masker").remove()),console.info("");var c=this,d=JSON.parse(b),e=[],f=0,g=d.relatesTo.length;_.each(d.relatesTo,function(a){require(["text!"+a+"/CubeModule.json"],function(b){b&&e.push({name:JSON.parse(b).name,pack:a,moduleUrl:"../"+a+"/index.html?cube-action=push",iconUrl:"../"+a+"/icon.png"}),f++,f==g&&c.loadModuleCallBack(e)})})},loadModuleCallBack:function(a){var b='<div id="panel-menu" style="margin-top: 44px;"><div id="panel-scroller" style="height: 100%;"><div><% _.each(ModuleList, function(item) { %><a href="#" hrefUrl="<%= item.moduleUrl %>" class="toOther" name="<%= item.pack %>"><div class="panel-item-content"><img src="<%=item.iconUrl%>"><div class="panel-btn-text"><%= item.name %></div></div></a><% }); %></div></div></div>',c=_.template(b,{ModuleList:a});this.createPanel(c)},createPanel:function(b){var d=this,e=b;if(a("body").find(".cube-panel").length<1){a("body").append(e);var f=a(e).attr("id");a("#"+f).addClass("cube-panel");var g="<div class='cube-panel-masker'></div>";a("body").append(g),a(".cube-panel-masker").click(function(){d.hide()}),a("#"+f+" a").click(function(){d.PanelItemClick(a(this))}),new c("panel-scroller")}},PanelItemClick:function(a){window.location.href=a.attr("hrefUrl"),console.info(a),this.hide()},show:function(){return"block"==a(".cube-panel-masker").css("display")?(this.hide(),void 0):(a(".cube-panel").removeClass("cube-panel-position-hide"),a(".cube-panel").addClass("cube-panel-position-show"),a(".cube-panel-masker").css("display","block"),a(".cube-panel-masker").removeClass("cube-panel-position-hide"),a(".cube-panel-masker").addClass("cube-panel-position-show"),void 0)},hide:function(){a(".cube-panel").removeClass("cube-panel-position-show"),a(".cube-panel").addClass("cube-panel-position-hide"),a(".cube-panel-masker").css("display","none"),a(".cube-panel-masker").removeClass("cube-panel-position-show"),a(".cube-panel-masker").addClass("cube-panel-position-hide")}},{render:function(a){d.instance.render(a)},show:function(){d.instance.show()},hide:function(){d.instance.hide()}});return d.instance=new d,d}),define("components/popover",["zepto","backbone","iScroll","components/fixed"],function(a,b,c,d){var e=b.View.extend({events:{"click li":"onClick"},initialize:function(){if(console.log("popover init"),arguments&&arguments.length>0){var b,c=arguments[0];for(b in c)b in this&&(this[b]=c[b]);var d={};for(var e in this.config)d[e]=this.config[e];for(var f in c)d[f]=c[f];this.config=d}this.isMaskShow=!1;var g=a(this.config.el).attr("arrowSite"),h=a(this.config.el).attr("maskStyle");this.mask=a('<div class="popver-masker" style="'+h+';display: none;width: 100%;min-height:100%; z-index:100; position: absolute;">'+"<style>"+".popover:before, .popover:after{"+"left:"+g+";"+"}"+"</style>"+"</div>"),this.render()},poperties:{},render:function(){var b=this,c=a(b.el).attr("trigger"),d=a(b.config.parent).find(c)[0],e=a(b.el).attr("target");""==e&&(e=c);var f=a(b.el).attr("closeTrigger");""==f&&(f="self"),this.poperties.closeTrigger=f,"self"!=this.poperties.closeTrigger&&a(b.el).find(this.poperties.closeTrigger).click(function(){b.onHide()});var g=a(b.el).attr("horizontalMove");""==g&&(g=0),this.poperties.horizontalMove=parseInt(g);var h=a(b.el).attr("verticalMove");return""==h&&(h=0),this.poperties.verticalMove=parseInt(h),a(d).bind("click",function(){function c(){var c=a(b.el).attr("position");""==c&&(c="absolute"),a(b.el).css({position:c});var d=a(b.config.parent).find(e).width(),f=a(b.config.parent).find(e).height(),g=a(b.config.parent).find(e).offset(),h=(a(b.el).width(),g.top);"fixed"==a(b.el).attr("position")&&(h=10),a(b.el).offset({left:g.left+d/2+b.poperties.horizontalMove,top:h+f-35+b.poperties.verticalMove})}a(b.el).offset({left:0,top:0}),a(b.el).css({left:0,top:0}),null==b.reposi&&(b.reposi=c),c(),b.onShow()}),console.info("======"),this},reposi:null,onShow:function(){var b=this,e=this.el,f=a(e).css("display");this.isMaskShow||(a("body").prepend(this.mask),this.isMaskShow=!0),a(e).removeClass("visible"),"none"==f?(e.style.display="block",this.mask.css("display","block"),a(window).on("orientationchange",b.reposi),a(window).on("resize",b.reposi)):(e.style.display="none",this.mask.css("display","none"),a(window).off("orientationchange",b.reposi),a(window).off("resize",b.reposi)),e.offsetHeight,e.classList.add("visible");var g=new c("popver-scroller",{useTransition:!0});this.iScroll=g,this.iScroll.refresh(),this.mask.bind("click",function(){b.onMaskClick()}),d.FixPopoverOn(),d.FixHeaderWithPopoverOffsetTop()},onClick:function(){console.log("popover:select"),"self"==this.poperties.closeTrigger&&this.onHide()},onHide:function(){a(this.el).css("display","none"),this.mask.css("display","none")},onMaskClick:function(){console.info("mask click"),a(this.el).css("display","none"),this.mask.css("display","none"),d.FixPopoverOff()}},{compile:function(b){return console.log("popover compile"),_.map(a(b).find(".popover"),function(a){return new e({el:a,parent:b})})}});return e}),define("components/segment",["zepto","backbone"],function(a,b){var c=b.View.extend({events:{"click li":"onClick"},initialize:function(){console.log("cube---segment---segment init");var b=a(this.el).attr("name");if(b&&!document.getElementById("seginput-"+this.el.id)){var c=a("<input/>");c.attr("id","seginput-"+this.el.id),c.attr("name",b);var d=a("#"+this.el.id+" li").attr("data-value");c.val(d),c.appendTo(this.el),c.hide()}console.log("cube---segment---segment:"+this.el)},render:function(){return this},onClick:function(b){console.log("cube---segment---segment click");var c=this.el.querySelector(".active");c&&a(c).removeClass("active"),a(b.currentTarget).addClass("active"),this.$("#seginput-"+this.el.id).val(a(b.currentTarget).attr("data-value")),this.trigger("Segment:change",this),b.preventDefault(),console.log("cube---segment---segment click end")},getActiveItem:function(){return this.el.querySelector(".active")},getValue:function(){var a=this.getActiveItem();return a?a.getAttribute("data-value"):null},triggerChange:function(){this.trigger("Segment:change",this)}},{compile:function(b){return console.log("cube---segment---segment compile"),_.map(a(b).find(".segmented-controller"),function(a){return new c({el:a})})}});return c}),define("components/session",["zepto"],function(){var a=function(){};return a.saveObject=function(a,b){window.sessionStorage[a]=JSON.stringify(b)},a.loadObject=function(a){var b=window.sessionStorage[a];return null==b?null:JSON.parse(b)},a.deleteObject=function(a){window.sessionStorage[a]=null},a}),define("components/validator",["zepto","components/dialog","backbone"],function(a,b,c){var d=c.Model.extend({},{phoneNum:function(a){var c=/^0{0,1}(13[0-9]|15[0-9]|18[0-9])[0-9]{8}$/,d=!1,e=!0;return""===a&&(d="",e=!1),a&&11==a.length?c.test(a)||(d="",e=!1):(d="11",e=!1),e||new b({content:d}),e},identityCard:function(a){var a,b,c,d,e,f=new Array("!","!","!","!","!"),g={11:"",12:"",13:"",14:"",15:"",21:"",22:"",23:"",31:"",32:"",33:"",34:"",35:"",36:"",37:"",41:"",42:"",43:"",44:"",45:"",46:"",50:"",51:"",52:"",53:"",54:"",61:"",62:"",63:"",64:"",65:"xinjiang",71:"",81:"",82:"",91:""},h=new Array;if(h=a.split(""),null==g[parseInt(a.substr(0,2))])return f[4];switch(a.length){case 15:return ereg=0==(parseInt(a.substr(6,2))+1900)%4||0==(parseInt(a.substr(6,2))+1900)%100&&0==(parseInt(a.substr(6,2))+1900)%4?/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/,ereg.test(a)?f[0]:f[2];case 18:return ereg=0==parseInt(a.substr(6,4))%4||0==parseInt(a.substr(6,4))%100&&0==parseInt(a.substr(6,4))%4?/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/,ereg.test(a)?(d=7*(parseInt(h[0])+parseInt(h[10]))+9*(parseInt(h[1])+parseInt(h[11]))+10*(parseInt(h[2])+parseInt(h[12]))+5*(parseInt(h[3])+parseInt(h[13]))+8*(parseInt(h[4])+parseInt(h[14]))+4*(parseInt(h[5])+parseInt(h[15]))+2*(parseInt(h[6])+parseInt(h[16]))+1*parseInt(h[7])+6*parseInt(h[8])+3*parseInt(h[9]),b=d%11,e="F",c="10X98765432",e=c.substr(b,1),e==h[17]?f[0]:f[3]):f[2];default:return f[1]}},email:function(a){var c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.test(a)?!0:(new b({content:""}),!1)}});return d}),define("components/datepicker",["backbone","underscore","zepto"],function(a,b,c){var d=a.View.extend({initialize:function(){var a=new Date,b=c(this.el).val(),d=c(this.el).attr("data-firstDay"),e=c(this.el).attr("data-minDate"),f=c(this.el).attr("data-maxDate"),g=c(this.el).attr("data-swipeable"),h=c(this.el).attr("data-monthChangeable"),i=c(this.el).attr("data-yearChangeable"),j=c(this.el).attr("data-selectYearBefore"),k=c(this.el).attr("data-selectYearAfter"),l=c(this.el).attr("data-parentEl"),m=this,n=c("<div></div>");n=n.calendar({date:null===b?a:b,swipeable:null===g||"true"===g?!0:!1,firstDay:null===d?1:d,minDate:null===e?null:c.calendar.parseDate(e),maxDate:null===f?null:c.calendar.parseDate(f),monthChangeable:null===h||"false"===h?!1:!0,yearChangeable:null===i||"false"===i?!1:!0,selectYearBefore:j,selectYearAfter:k,select:function(a,b){c(m.el).val(c.calendar.formatDate(b)),n.hide()}}),c(this.el).on("click",function(){n.show()}),n.hide(),null===l?c(this.el).parent().append(n):c(l).append(n)}},{compile:function(a){return b.map(c(a).find(".cube-datepicker"),function(a){var b=new d({el:a});return b})}});return d}),define("components/view",["zepto","underscore","backbone","components/list","components/segment","components/carousel","components/extendable-list","components/session","components/base64Img","components/datepicker","components/fixed"],function(a,b,c,d,e,f,g,h,i,j,k){var l=/^(\S+)\s*(.*)$/,m=c.View.extend({className:"page",components:{},compile:function(){var c=this,h=(j.compile(this.el),d.compile(this.el)),k=e.compile(this.el),l=f.compile(this.el),m=g.compile(this.el),n=(i.compile(this.el),b.union(h,k,l,m));b.each(n,function(a){var b=a.id||a.el.getAttribute("id");c.components[b]=a}),a("a[cube-action]").each(function(b,c){console.log(c);var d=c.getAttribute("href"),e=c.getAttribute("cube-action");d||(d=""),d=d&&d.indexOf("?")>=0?d+"&cube-action="+e:d+"?cube-action="+e,a(c).removeAttr("cube-action"),c.setAttribute("href",d)}),this.$el.find(".back").click(function(){return window.history.back(),!1}),this.checkDependences()},bindEvents:function(){if(this.bindings)for(var a in this.bindings){var c=this.bindings[a];if(b.isFunction(c)||(c=this[c]),!c)throw new Error('Method "'+this.bindings[a]+'" does not exist');var d=a.match(l),e=d[1],f=d[2];c=b.bind(c,this);var g=this.component(f);g&&g.on(e,c,this)}},unbindEvents:function(){for(var a in this.bindings){var b=a.match(l),c=b[1],d=b[2],e=this.component(d);e&&e.off(c)}},component:function(a){return this.components[a]},initialize:function(){c.View.prototype.initialize.call(this)},remove:function(){a(window).off("orientationchange",this.onOrientationchange),this.unbindEvents(),c.View.prototype.remove.call(this)},render:function(){var b=this;return a(document).bind("show",function(){b.onShow()}),this.compile(),this.unbindEvents(),this.bindEvents(),this},onShow:function(){a(window).on("orientationchange",this.onOrientationchange),a(window).on("resize",this.onWindowResize),a(window).on("scroll",this.onWindowScroll),a("body").css({width:"100%"}),window.scroll(0,0)},onWindowScroll:function(){},onOrientationchange:function(){a("input").blur()},onWindowResize:function(){k.FxHeader()},navigate:function(a,b){a=this._modularFragment(a),console.log("navigate to: "+a),c.history.navigate(a,b)},navigateModule:function(a,b){c.history.navigate(a,b)},_modularFragment:function(a){return this.module&&"/"!==a[0]?a=this.module+"/"+a:this.module&&(a=a.substring(1)),a},checkDependences:function(){if(this.dependences&&a.isArray(this.dependences))for(var b=this.dependences,c=0;c<b.length;c++){var d=h.loadObject(b[c]);d||(this.missingDependence(b[c]),window.location.href="../"+b[0])}}});return m}),define("components/toast",["zepto"],function(){var a=function(a,b){b=isNaN(b)?2e3:b;var c=document.createElement("div");c.innerHTML=a,c.style.cssText="width:60%; min-width:150px; background:#000; opacity:0.5; height:40px; color:#fff; line-height:40px; text-align:center; border-radius:5px; position:fixed; top:40%; left:20%; z-index:999999; font-weight:bold;",document.body.appendChild(c),setTimeout(function(){var a=.5;c.style.webkitTransition="-webkit-transform "+a+"s ease-in, opacity "+a+"s ease-in",c.style.opacity="0",setTimeout(function(){document.body.removeChild(c)},1e3*a)},b)};return a}),define("components/components",["require","components/base64Img","components/cache","components/carousel","components/dialog","components/form","components/loader","components/oldloader","components/date","components/extendable-list","components/i18n","components/list","components/module-panel","components/popover","components/segment","components/session","components/store","components/util","components/validator","components/view","components/datepicker","components/toast"],function(a){var b=a("components/base64Img"),c=a("components/cache"),d=a("components/carousel"),e=a("components/dialog"),f=a("components/form"),g=a("components/loader"),h=a("components/oldloader"),i=a("components/date"),j=a("components/extendable-list"),k=a("components/i18n"),l=a("components/list"),m=a("components/module-panel"),n=a("components/popover"),o=a("components/segment"),p=a("components/session"),q=a("components/store"),r=a("components/util"),s=a("components/validator"),t=a("components/view"),u=a("components/datepicker"),v=a("components/toast");return{Base64Img:b,Cache:c,Carousel:d,Dialog:e,Form:f,Loader:g,Oldloader:h,Date:i,ExtendableList:j,I18n:k,List:l,ModulePanel:m,Popover:n,Segment:o,Session:p,Store:q,Util:r,Validator:s,View:t,Datepicker:u,Toast:v}});var Piece,pieceDefaultConfig={loadFrom:"module",defaultModule:null,defaultView:null,loadMode:"view",enablePad:!1,hideAddressBar:!0,enablePhoneGap:!1,preventTouchMove:!1},pieceConfig;"undefined"==typeof pieceConfig&&(pieceConfig=new Object),void 0===pieceConfig.enablePhoneGap&&(pieceConfig.enablePhoneGap=!1),"root"===pieceConfig.loadFrom?require.config({baseUrl:"."}):require.config({baseUrl:"../"}),require.config({waitSeconds:30}),void 0===window.localStorage.lang&&(window.localStorage.lang="zh-cn"),requirejs.config({config:{i18n:{locale:window.localStorage.lang}}}),function(){if(pieceConfig.enablePhoneGap){var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src","../cordova.js"),document.head.appendChild(a)}require(["zepto","underscore","backbone","fastclick","text","i18n","core/app","components/components"],function(a,b,c,d,e,f,g,h){function i(a){window.isDesktop=a,g.initialize()}Piece=h,pieceConfig=b.extend(pieceDefaultConfig,pieceConfig),d.attach(document.body),pieceConfig.hideAddressBar&&setTimeout(function(){window.scrollTo(0,1)},0),pieceConfig.preventTouchMove&&document.addEventListener("touchmove",function(a){a.preventDefault()},!1),pieceConfig.enablePhoneGap&&navigator.userAgent.match(/(iPad|iPhone|Android)/)?document.addEventListener("deviceready",i,!1):i(!0)})}(),define("dist/js/piece.js",function(){});